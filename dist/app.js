"use strict";function e(){console.log(window.innerWidth);var e=document.querySelectorAll(".burger__link"),n=document.querySelectorAll(".burger__link-last-trigger");window.innerWidth<780?(e.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".burger__item"),i=e.nextSibling;null!==i&&(i.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.classList.add("visible"));var s=i.querySelector(".burger__btn-back");console.log(s),s.addEventListener("click",(function(){i.style.display="none",n.forEach((function(e){e.classList.remove("flip")})),i.classList.remove("visible")})),t()}(e)}))})),n.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".header__dropdown-menu > li"),i=document.querySelectorAll(".header__dropdown-menu > .header__link"),s=document.querySelectorAll(".header__dropdown-menu"),o=e.nextSibling;console.log(o),null!==o&&(o.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.forEach((function(e){e.classList.add("flip")})),s.forEach((function(e){e.classList.add("hidden")})),o.classList.add("visible"));var l=o.querySelector(".burger__btn-back");console.log(l),l.addEventListener("click",(function(){console.log(n),o.style.display="none",o.classList.remove("visible"),n.forEach((function(e){e.classList.remove("flip")})),i.forEach((function(e){e.classList.remove("flip")})),s.forEach((function(e){e.classList.remove("hidden")}))})),t()}(e)}))})),document.body.style.overflow="hidden"):window.innerWidth>780&&(document.body.style.overflow="scroll")}function t(){document.querySelectorAll(".burger__btn-close").forEach((function(e){e.addEventListener("click",(function(){n(),burgerList.classList.contains("visible")&&(burgerList.classList.remove("visible"),burgerList.classList.add("hidden"))}))}))}function n(){var e=document.querySelectorAll(".flip"),t=(document.querySelector(".burger__list.visible"),document.querySelectorAll(".header__dropdown-menu.visible")),n=document.querySelectorAll(".burger__list-last.visible");console.log(t),t.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),n.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),e.forEach((function(e){e.classList.remove("flip")}))}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".burger__btn");window.addEventListener("resize",(function(){e(),document.body.style.overflow="scroll"})),document.addEventListener("click",(function(e){var t=document.querySelector(".burger__list");t.contains(e.target)||e.target.classList.contains("burger__btn")||(console.log(e.target),n(),t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll")})),t.addEventListener("click",(function(){!function(){var t=document.querySelector(".burger__list");t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e()):t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll",n())}()}))}));var i=document.querySelectorAll(".cases__btn");document.querySelector(".cases__content").classList.add("is-open"),i.forEach((function(e,t){e.addEventListener("click",(function(){var e=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTrigger+'"]');document.querySelector(".is-open").classList.remove("is-open"),document.querySelector(".is-active").classList.remove("is-active"),e.classList.add("is-open"),this.classList.add("is-active")}))})),new Accordion(".accordion");var s=document.querySelector(".footer__phone"),o=document.querySelector(".footer__mail");s.addEventListener("click",(function(e){s.classList.contains("footer__phone_hover")&&(e.preventDefault(),s.classList.remove("footer__phone_hover"))})),o.addEventListener("click",(function(e){o.classList.contains("footer__mail_hover")&&(e.preventDefault(),o.classList.remove("footer__mail_hover"))}));var l,c,a,r,d,u,b,v,f,p=document.querySelector(".header__phone-hover"),m=document.querySelector(".header__mail-hover");for(p.addEventListener("click",(function(e){e.preventDefault(),p.classList.add("none")})),m.addEventListener("click",(function(e){e.preventDefault(),m.classList.add("none")})),r=(l=document.getElementsByClassName("custom-select")).length,c=0;c<r;c++){for(d=(u=l[c].getElementsByTagName("select")[0]).length,(b=document.createElement("DIV")).setAttribute("class","select-selected"),b.innerHTML=u.options[u.selectedIndex].innerHTML,l[c].appendChild(b),(v=document.createElement("DIV")).setAttribute("class","select-items select-hide"),a=1;a<d;a++)(f=document.createElement("DIV")).classList.add("select-div"),f.dataset.tabTriggerMobile=a,f.innerHTML=u.options[a].innerHTML,f.addEventListener("click",(function(e){var t,n,i,s,o,l,c;for(l=(s=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,o=this.parentNode.previousSibling,n=0;n<l;n++)if(s.options[n].innerHTML==this.innerHTML){for(s.selectedIndex=n,o.innerHTML=this.innerHTML,c=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,i=0;i<c;i++)t[i].removeAttribute("class");this.setAttribute("class","same-as-selected");break}o.click()})),v.appendChild(f);l[c].appendChild(v),b.addEventListener("click",(function(e){e.stopPropagation(),h(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function h(e){var t,n,i,s,o,l=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=t.length,o=n.length,i=0;i<o;i++)e==n[i]?l.push(i):n[i].classList.remove("select-arrow-active");for(i=0;i<s;i++)l.indexOf(i)&&t[i].classList.add("select-hide")}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function w(e){var t=g(e,"string");return"symbol"===y(t)?t:String(t)}function g(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function L(e,t,n){k(e,t),t.set(e,n)}function k(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function S(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,T(e,t,"get"))}function q(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,T(e,t,"set"),n),n}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}document.addEventListener("click",h),document.querySelectorAll("[data-tab-trigger-mobile]").forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTriggerMobile+'"]');document.querySelector(".is-open").classList.remove("is-open"),e.classList.add("is-open")}))}));var x=new WeakMap,M=new WeakMap,P=new WeakMap,A=new WeakMap,B=new WeakMap,V=new WeakMap,N=new WeakMap,H=new WeakSet,W=function(){function e(){var t,n,i=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(t=this,n=H),n.add(t),L(this,x,{writable:!0,value:void 0}),L(this,M,{writable:!0,value:'<div class="itc-modal-backdrop"><div class="itc-modal-content"><div class="itc-modal-header"><span class="itc-modal-btn-close" title="Закрыть">×</span></div><div class="itc-modal-body">{{content}}</div>{{footer}}</div></div>'}),L(this,P,{writable:!0,value:'<div class="itc-modal-footer">{{buttons}}</div>'}),L(this,A,{writable:!0,value:'<button type="button" class="{{class}}" data-action={{action}}>{{text}}</button>'}),L(this,B,{writable:!0,value:new Event("show.itc.modal",{bubbles:!0})}),L(this,V,{writable:!0,value:new Event("hide.itc.modal",{bubbles:!0})}),L(this,N,{writable:!0,value:!1}),q(this,x,document.createElement("div")),S(this,x).classList.add("itc-modal");var o=S(this,M).replace("{{title}}",s.title||"Новое окно");o=o.replace("{{content}}",s.content||"");var l=(s.footerButtons||[]).map((function(e){var t=S(i,A).replace("{{class}}",e.class);return(t=t.replace("{{action}}",e.action)).replace("{{text}}",e.text)})),c=l.length?S(this,P).replace("{{buttons}}",l.join("")):"";o=o.replace("{{footer}}",c),S(this,x).innerHTML=o,document.body.append(S(this,x)),S(this,x).addEventListener("click",E(this,H,C).bind(this))}var t,n,i;return t=e,(n=[{key:"show",value:function(){S(this,N)||(S(this,x).classList.add("itc-modal-show"),S(this,x).dispatchEvent(S(this,B)))}},{key:"hide",value:function(){S(this,x).classList.remove("itc-modal-show"),S(this,x).dispatchEvent(S(this,V)),document.body.style.position="",document.body.style.top=""}},{key:"dispose",value:function(){S(this,x).remove(S(this,x)),S(this,x).removeEventListener("click",E(this,H,C)),q(this,N,!0)}},{key:"setBody",value:function(e){S(this,x).querySelector(".itc-modal-body").innerHTML=e}},{key:"setTitle",value:function(e){S(this,x).querySelector(".itc-modal-title").innerHTML=e}}])&&_(t.prototype,n),i&&_(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){(e.target.closest(".itc-modal-btn-close")||e.target.classList.contains("itc-modal-backdrop"))&&this.hide()}var D,j=new W({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Будем рады помочь</h3><form action="" class="callback__form"><label class="callback__label" for="name">Ваше имя</label><input class="callback__input" type="text" name="name" id="name"><label class="callback__label" for="phone">Телефон</label><input class="callback__input" type="tel" name="phone" id="phone"><label class="callback__label" for="message">Комментарий</label><textarea class="callback__input callback__input_text" name="message" id="message" rows="3"></textarea><label class="callback__label callback__label_check" for="agree"><input class="callback__checkbox" type="checkbox" name="agree" id="agree"><span class="callback__span"></span>Нажимая кнопку отправить заявку, даю согласие на обработку персональных данных*</label><button class="callback__btn btn btn-ok">Отправить заявку</button></form></div></div>'}),I=new W({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Спасибо!</h3><div class="callback__label">Мы скоро с Вами свяжемся!</div></div></div>'}),O=document.querySelectorAll(".btn-show-modal"),z=document.querySelectorAll(".btn-ok");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function G(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=g(e,"string");return"symbol"===y(t)?t:String(t)}function g(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}O.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),j.show()}))})),z.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),j.hide(),I.show()}))}));new Swiper(".cases__swiper",{speed:600,loop:!0,slidesPerView:1,spaceBetween:30,navigation:{nextEl:".cases .swiper-button-next",prevEl:".cases .swiper-button-prev"}}),new Swiper(".hero__swiper",(G(D={speed:1200,loop:!0,slidesPerView:1,spaceBetween:30},"loop",!0),G(D,"effect","slide"),G(D,"autoplay",!0),D)),new Swiper(".clients__swiper",{direction:"horizontal",speed:600,loop:!0,slidesPerView:3,effect:"slide",spaceBetween:20,autoplay:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:32,slidesPerGroup:1},520:{slidesPerView:2,spaceBetween:32,slidesPerGroup:2},820:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:".clients .swiper-button-next",prevEl:".clients .swiper-button-prev"}}),new Swiper(".reviews__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:10,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},780:{slidesPerView:2},1020:{slidesPerView:3}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1cmdlci5qcyIsIm1haW4uanMiLCJtb2RhbC5qcyIsInN3aXBlci5qcyJdLCJuYW1lcyI6WyJpbm5lcldpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYnVyZ2VySXRlbUxpbmsiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXJnZXJMYXN0VHJpZ2dlciIsImZvckVhY2giLCJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW1zIiwibGlzdCIsIm5leHRTaWJsaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwiaXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImJ0bkJhY2siLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlIiwiY2xvc2VBbGxTdWJNZW51Iiwib3BlblN1Yk1lbnUiLCJsaW5rcyIsImRyb3BNZW51IiwibGFzdExpc3QiLCJvcGVuTGFzdE1lbnUiLCJib2R5Iiwib3ZlcmZsb3ciLCJidG4iLCJyZW1vdmVWaXNpYmxlIiwiYnVyZ2VyTGlzdCIsImNvbnRhaW5zIiwiZmxpcEVsZW1lbnRzIiwiZHJvcGRvd25MaXN0IiwiZHJvcGRvd24iLCJlIiwiYnVyZ2VyQnRuIiwiZXZlbnQiLCJ0YXJnZXQiLCJmbGlwQnVyZ2VyTWVudSIsInRhYlRyaWdnZXJCdG5zIiwidGFiVHJpZ2dlckJ0biIsImluZGV4IiwiY3VycmVudFRhYkRhdGEiLCJ0aGlzIiwiZGF0YXNldCIsInRhYlRyaWdnZXIiLCJBY2NvcmRpb24iLCJjb250YWN0UGhvbmUiLCJjb250YWN0TWFpbCIsInByZXZlbnREZWZhdWx0IiwieCIsImkiLCJqIiwibCIsImxsIiwic2VsRWxtbnQiLCJhIiwiYiIsImMiLCJjb250YWN0SGVhZGVyUGhvbmUiLCJjb250YWN0SGVhZGVyTWFpbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJsZW5ndGgiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImFwcGVuZENoaWxkIiwidGFiVHJpZ2dlck1vYmlsZSIsInkiLCJrIiwicyIsImgiLCJzbCIsInlsIiwicGFyZW50Tm9kZSIsInByZXZpb3VzU2libGluZyIsInJlbW92ZUF0dHJpYnV0ZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VBbGxTZWxlY3QiLCJ0b2dnbGUiLCJlbG1udCIsInhsIiwiYXJyTm8iLCJwdXNoIiwiaW5kZXhPZiIsInRhYiIsIkl0Y01vZGFsIiwiX3RoaXMiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfaGFuZGxlckNsb3NlTW9kYWwiLCJfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyIsIl9lbGVtIiwid3JpdGFibGUiLCJ2YWx1ZSIsIl90ZW1wbGF0ZSIsIl90ZW1wbGF0ZUZvb3RlciIsIl90ZW1wbGF0ZUJ0biIsIl9ldmVudFNob3dNb2RhbCIsIkV2ZW50IiwiYnViYmxlcyIsIl9ldmVudEhpZGVNb2RhbCIsIl9kaXNwb3NlZCIsIl9jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9jbGFzc1ByaXZhdGVGaWVsZEdldCIsImh0bWwiLCJyZXBsYWNlIiwidGl0bGUiLCJjb250ZW50IiwiYnV0dG9ucyIsImZvb3RlckJ1dHRvbnMiLCJtYXAiLCJhY3Rpb24iLCJ0ZXh0IiwiZm9vdGVyIiwiam9pbiIsImFwcGVuZCIsIl9jbGFzc1ByaXZhdGVNZXRob2RHZXQiLCJfaGFuZGxlckNsb3NlTW9kYWwyIiwiYmluZCIsImtleSIsImRpc3BhdGNoRXZlbnQiLCJwb3NpdGlvbiIsInRvcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZXN0IiwiaGlkZSIsIm1vZGFsIiwibW9kYWxTdWNjZXNzIiwiYnRuU2hvd01vZGFsIiwiYnRuT2siLCJzaG93IiwiU3dpcGVyIiwic3BlZWQiLCJsb29wIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJfZGVmaW5lUHJvcGVydHkiLCJfU3dpcGVyIiwiZGlyZWN0aW9uIiwiZWZmZWN0IiwiYXV0b3BsYXkiLCJicmVha3BvaW50cyIsInNsaWRlc1Blckdyb3VwIl0sIm1hcHBpbmdzIjoiYUF5Q0EsU0FBU0EsSUFDUEMsUUFBUUMsSUFBSUMsT0FBT0MsWUFDbkIsSUFBTUMsRUFBaUJDLFNBQVNDLGlCQUFpQixpQkFDM0NDLEVBQW9CRixTQUFTQyxpQkFDakMsOEJBR0VKLE9BQU9DLFdBQWEsS0FDdEJDLEVBQWVJLFNBQVEsU0FBQ0MsR0FDdEJBLEVBQUtDLGlCQUFpQixTQUFTLFlBZXJDLFNBQXFCRCxHQUNuQixJQUFNRSxFQUFRTixTQUFTQyxpQkFBaUIsaUJBRWxDTSxFQUFPSCxFQUFLSSxZQUNMLE9BQVRELElBQ0ZBLEVBQUtFLE1BQU1DLFFBQVUsUUFDckJKLEVBQU1ILFNBQVEsU0FBQ1EsR0FDYkEsRUFBS0MsVUFBVUMsSUFBSSxPQUNyQixJQUNBTixFQUFLSyxVQUFVQyxJQUFJLFlBRXJCLElBQU1DLEVBQVVQLEVBQUtRLGNBQWMscUJBQ25DcEIsUUFBUUMsSUFBSWtCLEdBQ1pBLEVBQVFULGlCQUFpQixTQUFTLFdBQ2hDRSxFQUFLRSxNQUFNQyxRQUFVLE9BQ3JCSixFQUFNSCxTQUFRLFNBQUNRLEdBQ2JBLEVBQUtDLFVBQVVJLE9BQU8sT0FDeEIsSUFDQVQsRUFBS0ssVUFBVUksT0FBTyxVQUN4QixJQUNBQyxHQUNGLENBbkNRQyxDQUFZZCxFQUNkLEdBQ0YsSUFDQUYsRUFBa0JDLFNBQVEsU0FBQ0MsR0FDekJBLEVBQUtDLGlCQUFpQixTQUFTLFlBZ0NyQyxTQUFzQkQsR0FDcEIsSUFBTUUsRUFBUU4sU0FBU0MsaUJBQWlCLCtCQUNsQ2tCLEVBQVFuQixTQUFTQyxpQkFDckIsMENBRUltQixFQUFXcEIsU0FBU0MsaUJBQWlCLDBCQUVyQ29CLEVBQVdqQixFQUFLSSxZQUV0QmIsUUFBUUMsSUFBSXlCLEdBQ0ssT0FBYkEsSUFDRkEsRUFBU1osTUFBTUMsUUFBVSxRQUN6Qkos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LE9BQVEsa0NBR1UsSUFBSVAsT0FBTyxtQkFBb0IsQ0FDbkRVLFVBQVcsYUFFWFIsTUFBTSxFQUNOQyxjQUFlLEVBQ2ZRLE9BQVEsUUFDUlAsYUFBYyxHQUVkUyxZQUFhLENBQ1gsSUFBSyxDQUNIVixjQUFlLEVBRWZXLGVBQWdCLEdBRWxCLElBQUssQ0FDSFgsY0FBZSxHQUlqQixLQUFNLENBQ0pBLGNBQWUsSUFLbkJFLFdBQVksQ0FDVkMsT0FBUSwrQkFDUkMsT0FBUSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2J0blwiKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcbiAgICBpbm5lcldpbmRvdygpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcbiAgfSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgY29uc3QgYnVyZ2VyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19saXN0XCIpO1xyXG4gICAgaWYgKFxyXG4gICAgICAhYnVyZ2VyTGlzdC5jb250YWlucyhldmVudC50YXJnZXQpICYmXHJcbiAgICAgICFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnVyZ2VyX19idG5cIilcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQpO1xyXG4gICAgICByZW1vdmVWaXNpYmxlKCk7XHJcbiAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcblxyXG4gICAgICAvLyAgIGZsaXBCdXJnZXJNZW51KCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgZmxpcEJ1cmdlck1lbnUoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBmbGlwQnVyZ2VyTWVudSgpIHtcclxuICBjb25zdCBidXJnZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2xpc3RcIik7XHJcbiAgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbiAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG4gICAgaW5uZXJXaW5kb3coKTtcclxuICB9IGVsc2UgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkge1xyXG4gICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4gICAgcmVtb3ZlVmlzaWJsZSgpO1xyXG4gICAgLy8gaW5uZXJXaW5kb3coKTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gaW5uZXJXaW5kb3coKSB7XHJcbiAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpO1xyXG4gIGNvbnN0IGJ1cmdlckl0ZW1MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2xpbmtcIik7XHJcbiAgY29uc3QgYnVyZ2VyTGFzdFRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuYnVyZ2VyX19saW5rLWxhc3QtdHJpZ2dlclwiXHJcbiAgKTtcclxuXHJcbiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzgwKSB7XHJcbiAgICBidXJnZXJJdGVtTGluay5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBvcGVuU3ViTWVudShsaW5rKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGJ1cmdlckxhc3RUcmlnZ2VyLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG9wZW5MYXN0TWVudShsaW5rKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNzgwKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gb3BlblN1Yk1lbnUobGluaykge1xyXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2l0ZW1cIik7XHJcblxyXG4gIGNvbnN0IGxpc3QgPSBsaW5rLm5leHRTaWJsaW5nO1xyXG4gIGlmIChsaXN0ICE9PSBudWxsKSB7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGxpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgfVxyXG4gIGNvbnN0IGJ0bkJhY2sgPSBsaXN0LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG4tYmFja1wiKTtcclxuICBjb25zb2xlLmxvZyhidG5CYWNrKTtcclxuICBidG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICB9KTtcclxuICBjbG9zZUFsbFN1Yk1lbnUoKTtcclxufVxyXG5mdW5jdGlvbiBvcGVuTGFzdE1lbnUobGluaykge1xyXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUgPiBsaVwiKTtcclxuICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUgPiAuaGVhZGVyX19saW5rXCJcclxuICApO1xyXG4gIGNvbnN0IGRyb3BNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnVcIik7XHJcblxyXG4gIGNvbnN0IGxhc3RMaXN0ID0gbGluay5uZXh0U2libGluZztcclxuXHJcbiAgY29uc29sZS5sb2cobGFzdExpc3QpO1xyXG4gIGlmIChsYXN0TGlzdCAhPT0gbnVsbCkge1xyXG4gICAgbGFzdExpc3Quc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBkcm9wTWVudS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH0pO1xyXG4gICAgbGFzdExpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgfVxyXG4gIGNvbnN0IGJ0bkJhY2sgPSBsYXN0TGlzdC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYnRuLWJhY2tcIik7XHJcbiAgY29uc29sZS5sb2coYnRuQmFjayk7XHJcbiAgYnRuQmFjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coaXRlbXMpO1xyXG4gICAgbGFzdExpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgbGFzdExpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgZHJvcE1lbnUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBjbG9zZUFsbFN1Yk1lbnUoKTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUFsbFN1Yk1lbnUoKSB7XHJcbiAgY29uc3QgYnRuQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYnRuLWNsb3NlXCIpO1xyXG4gIGJ0bkNsb3NlLmZvckVhY2goKGJ0bikgPT4ge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHJlbW92ZVZpc2libGUoKTtcclxuICAgICAgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkge1xyXG4gICAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVWaXNpYmxlKCkge1xyXG4gIGNvbnN0IGZsaXBFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmxpcFwiKTtcclxuICBjb25zdCBidXJnZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2xpc3QudmlzaWJsZVwiKTtcclxuICBjb25zdCBkcm9wZG93bkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuaGVhZGVyX19kcm9wZG93bi1tZW51LnZpc2libGVcIlxyXG4gICk7XHJcbiAgY29uc3QgbGFzdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fbGlzdC1sYXN0LnZpc2libGVcIik7XHJcbiAgY29uc29sZS5sb2coZHJvcGRvd25MaXN0KTtcclxuICBkcm9wZG93bkxpc3QuZm9yRWFjaCgoZHJvcGRvd24pID0+IHtcclxuICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG4gIGxhc3RMaXN0LmZvckVhY2goKGxpc3QpID0+IHtcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuICBmbGlwRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICB9KTtcclxufVxyXG4iLCIvLyBUYWJzXHJcblxyXG5jb25zdCB0YWJUcmlnZ2VyQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZXNfX2J0blwiKTtcclxuY29uc3QgY2FzZXNUYWJPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlc19fY29udGVudFwiKTtcclxuY2FzZXNUYWJPcGVuLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpO1xyXG50YWJUcmlnZ2VyQnRucy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJUcmlnZ2VyQnRuLCBpbmRleCkge1xyXG4gIHRhYlRyaWdnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRUYWJEYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy5jYXNlc19fY29udGVudFtkYXRhLXRhYi1jb250ZW50PVwiJyArIHRoaXMuZGF0YXNldC50YWJUcmlnZ2VyICsgJ1wiXSdcclxuICAgICk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLWFjdGl2ZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgY3VycmVudFRhYkRhdGEuY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gYWNjb3JkaW9uXHJcblxyXG5uZXcgQWNjb3JkaW9uKFwiLmFjY29yZGlvblwiKTtcclxuXHJcbi8vIHNob3cgY29udGFjdHNcclxuY29uc3QgY29udGFjdFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX3Bob25lXCIpO1xyXG5jb25zdCBjb250YWN0TWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19tYWlsXCIpO1xyXG5jb250YWN0UGhvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgaWYgKGNvbnRhY3RQaG9uZS5jbGFzc0xpc3QuY29udGFpbnMoXCJmb290ZXJfX3Bob25lX2hvdmVyXCIpKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb250YWN0UGhvbmUuY2xhc3NMaXN0LnJlbW92ZShcImZvb3Rlcl9fcGhvbmVfaG92ZXJcIik7XHJcbiAgfVxyXG59KTtcclxuY29udGFjdE1haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgaWYgKGNvbnRhY3RNYWlsLmNsYXNzTGlzdC5jb250YWlucyhcImZvb3Rlcl9fbWFpbF9ob3ZlclwiKSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29udGFjdE1haWwuY2xhc3NMaXN0LnJlbW92ZShcImZvb3Rlcl9fbWFpbF9ob3ZlclwiKTtcclxuICB9XHJcbn0pO1xyXG5jb25zdCBjb250YWN0SGVhZGVyUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fcGhvbmUtaG92ZXJcIik7XHJcbmNvbnN0IGNvbnRhY3RIZWFkZXJNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX21haWwtaG92ZXJcIik7XHJcbmNvbnRhY3RIZWFkZXJQaG9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29udGFjdEhlYWRlclBob25lLmNsYXNzTGlzdC5hZGQoXCJub25lXCIpO1xyXG59KTtcclxuY29udGFjdEhlYWRlck1haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnRhY3RIZWFkZXJNYWlsLmNsYXNzTGlzdC5hZGQoXCJub25lXCIpO1xyXG59KTtcclxuXHJcbi8vIGN1c3RvbSBzZWxlY3RcclxudmFyIHgsIGksIGosIGwsIGxsLCBzZWxFbG1udCwgYSwgYiwgYztcclxueCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjdXN0b20tc2VsZWN0XCIpO1xyXG5sID0geC5sZW5ndGg7XHJcbmZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcclxuICBzZWxFbG1udCA9IHhbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzZWxlY3RcIilbMF07XHJcbiAgbGwgPSBzZWxFbG1udC5sZW5ndGg7XHJcbiAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgYS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdC1zZWxlY3RlZFwiKTtcclxuICBhLmlubmVySFRNTCA9IHNlbEVsbW50Lm9wdGlvbnNbc2VsRWxtbnQuc2VsZWN0ZWRJbmRleF0uaW5uZXJIVE1MO1xyXG4gIHhbaV0uYXBwZW5kQ2hpbGQoYSk7XHJcbiAgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdC1pdGVtcyBzZWxlY3QtaGlkZVwiKTtcclxuICBmb3IgKGogPSAxOyBqIDwgbGw7IGorKykge1xyXG4gICAgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICBjLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3QtZGl2XCIpO1xyXG4gICAgYy5kYXRhc2V0LnRhYlRyaWdnZXJNb2JpbGUgPSBqO1xyXG4gICAgYy5pbm5lckhUTUwgPSBzZWxFbG1udC5vcHRpb25zW2pdLmlubmVySFRNTDtcclxuICAgIGMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciB5LCBpLCBrLCBzLCBoLCBzbCwgeWw7XHJcbiAgICAgIHMgPSB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNlbGVjdFwiKVswXTtcclxuICAgICAgc2wgPSBzLmxlbmd0aDtcclxuICAgICAgaCA9IHRoaXMucGFyZW50Tm9kZS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHMub3B0aW9uc1tpXS5pbm5lckhUTUwgPT0gdGhpcy5pbm5lckhUTUwpIHtcclxuICAgICAgICAgIHMuc2VsZWN0ZWRJbmRleCA9IGk7XHJcbiAgICAgICAgICBoLmlubmVySFRNTCA9IHRoaXMuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgeSA9IHRoaXMucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2FtZS1hcy1zZWxlY3RlZFwiKTtcclxuICAgICAgICAgIHlsID0geS5sZW5ndGg7XHJcbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgeWw7IGsrKykge1xyXG4gICAgICAgICAgICB5W2tdLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNhbWUtYXMtc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaC5jbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICBiLmFwcGVuZENoaWxkKGMpO1xyXG4gIH1cclxuICB4W2ldLmFwcGVuZENoaWxkKGIpO1xyXG4gIGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY2xvc2VBbGxTZWxlY3QodGhpcyk7XHJcbiAgICB0aGlzLm5leHRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoXCJzZWxlY3QtaGlkZVwiKTtcclxuICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcInNlbGVjdC1hcnJvdy1hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VBbGxTZWxlY3QoZWxtbnQpIHtcclxuICB2YXIgeCxcclxuICAgIHksXHJcbiAgICBpLFxyXG4gICAgeGwsXHJcbiAgICB5bCxcclxuICAgIGFyck5vID0gW107XHJcbiAgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWxlY3QtaXRlbXNcIik7XHJcbiAgeSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWxlY3Qtc2VsZWN0ZWRcIik7XHJcbiAgeGwgPSB4Lmxlbmd0aDtcclxuICB5bCA9IHkubGVuZ3RoO1xyXG4gIGZvciAoaSA9IDA7IGkgPCB5bDsgaSsrKSB7XHJcbiAgICBpZiAoZWxtbnQgPT0geVtpXSkge1xyXG4gICAgICBhcnJOby5wdXNoKGkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeVtpXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0LWFycm93LWFjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgZm9yIChpID0gMDsgaSA8IHhsOyBpKyspIHtcclxuICAgIGlmIChhcnJOby5pbmRleE9mKGkpKSB7XHJcbiAgICAgIHhbaV0uY2xhc3NMaXN0LmFkZChcInNlbGVjdC1oaWRlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VBbGxTZWxlY3QpO1xyXG5cclxuY29uc3QgdGFic01vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10YWItdHJpZ2dlci1tb2JpbGVdXCIpO1xyXG50YWJzTW9iaWxlLmZvckVhY2goKHRhYikgPT4ge1xyXG4gIHRhYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgY3VycmVudFRhYkRhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLmNhc2VzX19jb250ZW50W2RhdGEtdGFiLWNvbnRlbnQ9XCInICtcclxuICAgICAgICB0aGlzLmRhdGFzZXQudGFiVHJpZ2dlck1vYmlsZSArXHJcbiAgICAgICAgJ1wiXSdcclxuICAgICk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XHJcbiAgICBjdXJyZW50VGFiRGF0YS5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcclxuICB9KTtcclxufSk7XHJcbiIsImNsYXNzIEl0Y01vZGFsIHtcclxuICAjZWxlbTtcclxuICAjdGVtcGxhdGUgPVxyXG4gICAgJzxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtYmFja2Ryb3BcIj48ZGl2IGNsYXNzPVwiaXRjLW1vZGFsLWNvbnRlbnRcIj48ZGl2IGNsYXNzPVwiaXRjLW1vZGFsLWhlYWRlclwiPjxzcGFuIGNsYXNzPVwiaXRjLW1vZGFsLWJ0bi1jbG9zZVwiIHRpdGxlPVwi0JfQsNC60YDRi9GC0YxcIj7Dlzwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiaXRjLW1vZGFsLWJvZHlcIj57e2NvbnRlbnR9fTwvZGl2Pnt7Zm9vdGVyfX08L2Rpdj48L2Rpdj4nO1xyXG4gICN0ZW1wbGF0ZUZvb3RlciA9ICc8ZGl2IGNsYXNzPVwiaXRjLW1vZGFsLWZvb3RlclwiPnt7YnV0dG9uc319PC9kaXY+JztcclxuICAjdGVtcGxhdGVCdG4gPVxyXG4gICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwie3tjbGFzc319XCIgZGF0YS1hY3Rpb249e3thY3Rpb259fT57e3RleHR9fTwvYnV0dG9uPic7XHJcbiAgI2V2ZW50U2hvd01vZGFsID0gbmV3IEV2ZW50KFwic2hvdy5pdGMubW9kYWxcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xyXG4gICNldmVudEhpZGVNb2RhbCA9IG5ldyBFdmVudChcImhpZGUuaXRjLm1vZGFsXCIsIHsgYnViYmxlczogdHJ1ZSB9KTtcclxuICAjZGlzcG9zZWQgPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IFtdKSB7XHJcbiAgICB0aGlzLiNlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHRoaXMuI2VsZW0uY2xhc3NMaXN0LmFkZChcIml0Yy1tb2RhbFwiKTtcclxuICAgIGxldCBodG1sID0gdGhpcy4jdGVtcGxhdGUucmVwbGFjZShcclxuICAgICAgXCJ7e3RpdGxlfX1cIixcclxuICAgICAgb3B0aW9ucy50aXRsZSB8fCBcItCd0L7QstC+0LUg0L7QutC90L5cIlxyXG4gICAgKTtcclxuICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoXCJ7e2NvbnRlbnR9fVwiLCBvcHRpb25zLmNvbnRlbnQgfHwgXCJcIik7XHJcbiAgICBjb25zdCBidXR0b25zID0gKG9wdGlvbnMuZm9vdGVyQnV0dG9ucyB8fCBbXSkubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgIGxldCBidG4gPSB0aGlzLiN0ZW1wbGF0ZUJ0bi5yZXBsYWNlKFwie3tjbGFzc319XCIsIGl0ZW0uY2xhc3MpO1xyXG4gICAgICBidG4gPSBidG4ucmVwbGFjZShcInt7YWN0aW9ufX1cIiwgaXRlbS5hY3Rpb24pO1xyXG4gICAgICByZXR1cm4gYnRuLnJlcGxhY2UoXCJ7e3RleHR9fVwiLCBpdGVtLnRleHQpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmb290ZXIgPSBidXR0b25zLmxlbmd0aFxyXG4gICAgICA/IHRoaXMuI3RlbXBsYXRlRm9vdGVyLnJlcGxhY2UoXCJ7e2J1dHRvbnN9fVwiLCBidXR0b25zLmpvaW4oXCJcIikpXHJcbiAgICAgIDogXCJcIjtcclxuICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoXCJ7e2Zvb3Rlcn19XCIsIGZvb3Rlcik7XHJcbiAgICB0aGlzLiNlbGVtLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLiNlbGVtKTtcclxuICAgIHRoaXMuI2VsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuI2hhbmRsZXJDbG9zZU1vZGFsLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgI2hhbmRsZXJDbG9zZU1vZGFsKGUpIHtcclxuICAgIGlmIChcclxuICAgICAgZS50YXJnZXQuY2xvc2VzdChcIi5pdGMtbW9kYWwtYnRuLWNsb3NlXCIpIHx8XHJcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIml0Yy1tb2RhbC1iYWNrZHJvcFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2hvdygpIHtcclxuICAgIGlmICh0aGlzLiNkaXNwb3NlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLiNlbGVtLmNsYXNzTGlzdC5hZGQoXCJpdGMtbW9kYWwtc2hvd1wiKTtcclxuICAgIHRoaXMuI2VsZW0uZGlzcGF0Y2hFdmVudCh0aGlzLiNldmVudFNob3dNb2RhbCk7XHJcbiAgICAvLyBjb25zdCBzY3JvbGxZID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIC8vIGNvbnNvbGUubG9nKHNjcm9sbFkpO1xyXG4gICAgLy8gZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgIC8vIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3dpbmRvdy5zY3JvbGxZfXB4YDtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLiNlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGMtbW9kYWwtc2hvd1wiKTtcclxuICAgIHRoaXMuI2VsZW0uZGlzcGF0Y2hFdmVudCh0aGlzLiNldmVudEhpZGVNb2RhbCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gXCJcIjtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLiNlbGVtLnJlbW92ZSh0aGlzLiNlbGVtKTtcclxuICAgIHRoaXMuI2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuI2hhbmRsZXJDbG9zZU1vZGFsKTtcclxuICAgIHRoaXMuI2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHNldEJvZHkoaHRtbCkge1xyXG4gICAgdGhpcy4jZWxlbS5xdWVyeVNlbGVjdG9yKFwiLml0Yy1tb2RhbC1ib2R5XCIpLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgfVxyXG5cclxuICBzZXRUaXRsZSh0ZXh0KSB7XHJcbiAgICB0aGlzLiNlbGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRjLW1vZGFsLXRpdGxlXCIpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtb2RhbCA9IG5ldyBJdGNNb2RhbCh7XHJcbiAgY29udGVudDpcclxuICAgICc8ZGl2IGNsYXNzPVwiY2FsbGJhY2sgY2FsbGJhY2tfX21vZGFsXCI+PGRpdiBjbGFzcz1cImNhbGxiYWNrX19ibG9jayBjYWxsYmFja19fYmxvY2tfMlwiPjxoMyBjbGFzcz1cImNhbGxiYWNrX19zdWJ0aXRsZVwiPtCR0YPQtNC10Lwg0YDQsNC00Ysg0L/QvtC80L7Rh9GMPC9oMz48Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImNhbGxiYWNrX19mb3JtXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibmFtZVwiPtCS0LDRiNC1INC40LzRjzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiY2FsbGJhY2tfX2lucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIGlkPVwibmFtZVwiPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbFwiIGZvcj1cInBob25lXCI+0KLQtdC70LXRhNC+0L08L2xhYmVsPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19pbnB1dFwiIHR5cGU9XCJ0ZWxcIiBuYW1lPVwicGhvbmVcIiBpZD1cInBob25lXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibWVzc2FnZVwiPtCa0L7QvNC80LXQvdGC0LDRgNC40Lk8L2xhYmVsPjx0ZXh0YXJlYSBjbGFzcz1cImNhbGxiYWNrX19pbnB1dCBjYWxsYmFja19faW5wdXRfdGV4dFwiIG5hbWU9XCJtZXNzYWdlXCIgaWQ9XCJtZXNzYWdlXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbCBjYWxsYmFja19fbGFiZWxfY2hlY2tcIiBmb3I9XCJhZ3JlZVwiPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJhZ3JlZVwiIGlkPVwiYWdyZWVcIj48c3BhbiBjbGFzcz1cImNhbGxiYWNrX19zcGFuXCI+PC9zcGFuPtCd0LDQttC40LzQsNGPINC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDLCDQtNCw0Y7CoNGB0L7Qs9C70LDRgdC40LUg0L3QsMKg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUqPC9sYWJlbD48YnV0dG9uIGNsYXNzPVwiY2FsbGJhY2tfX2J0biBidG4gYnRuLW9rXCI+0J7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPjwvZm9ybT48L2Rpdj48L2Rpdj4nLFxyXG59KTtcclxuY29uc3QgbW9kYWxTdWNjZXNzID0gbmV3IEl0Y01vZGFsKHtcclxuICBjb250ZW50OlxyXG4gICAgJzxkaXYgY2xhc3M9XCJjYWxsYmFjayBjYWxsYmFja19fbW9kYWxcIj48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2Jsb2NrIGNhbGxiYWNrX19ibG9ja18yXCI+PGgzIGNsYXNzPVwiY2FsbGJhY2tfX3N1YnRpdGxlXCI+0KHQv9Cw0YHQuNCx0L4hPC9oMz48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCI+0JzRiyDRgdC60L7RgNC+INGBINCS0LDQvNC4INGB0LLRj9C20LXQvNGB0Y8hPC9kaXY+PC9kaXY+PC9kaXY+JyxcclxufSk7XHJcblxyXG5jb25zdCBidG5TaG93TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zaG93LW1vZGFsXCIpO1xyXG5jb25zdCBidG5PayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuLW9rXCIpO1xyXG5idG5TaG93TW9kYWwuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuc2hvdygpO1xyXG4gIH0pO1xyXG59KTtcclxuYnRuT2suZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuaGlkZSgpO1xyXG4gICAgbW9kYWxTdWNjZXNzLnNob3coKTtcclxuICB9KTtcclxufSk7XHJcbiIsImNvbnN0IHN3aXBlckNhc2VzID0gbmV3IFN3aXBlcihcIi5jYXNlc19fc3dpcGVyXCIsIHtcclxuICBzcGVlZDogNjAwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgc2xpZGVzUGVyVmlldzogMSxcclxuICBzcGFjZUJldHdlZW46IDMwLFxyXG5cclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6IFwiLmNhc2VzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIuY2FzZXMgLnN3aXBlci1idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJIZXJvID0gbmV3IFN3aXBlcihcIi5oZXJvX19zd2lwZXJcIiwge1xyXG4gIHNwZWVkOiAxMjAwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgc2xpZGVzUGVyVmlldzogMSxcclxuICBzcGFjZUJldHdlZW46IDMwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgZWZmZWN0OiBcInNsaWRlXCIsXHJcbiAgYXV0b3BsYXk6IHRydWUsXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJDbGllbnRzID0gbmV3IFN3aXBlcihcIi5jbGllbnRzX19zd2lwZXJcIiwge1xyXG4gIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXHJcbiAgc3BlZWQ6IDYwMCxcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgZWZmZWN0OiBcInNsaWRlXCIsXHJcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICBhdXRvcGxheTogdHJ1ZSxcclxuICBicmVha3BvaW50czoge1xyXG4gICAgMzIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxyXG4gICAgfSxcclxuICAgIDUyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMixcclxuICAgIH0sXHJcbiAgICA4MjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMixcclxuICAgIH0sXHJcbiAgfSxcclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6IFwiLmNsaWVudHMgLnN3aXBlci1idXR0b24tbmV4dFwiLFxyXG4gICAgcHJldkVsOiBcIi5jbGllbnRzIC5zd2lwZXItYnV0dG9uLXByZXZcIixcclxuICB9LFxyXG59KTtcclxuY29uc3Qgc3dpcGVyUmV2aWV3cyA9IG5ldyBTd2lwZXIoXCIucmV2aWV3c19fc3dpcGVyXCIsIHtcclxuICBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLFxyXG4gIC8vIHNwZWVkOiA2MDAsXHJcbiAgbG9vcDogdHJ1ZSxcclxuICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gIGVmZmVjdDogXCJzbGlkZVwiLFxyXG4gIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgLy8gYXV0b3BsYXk6IHRydWUsXHJcbiAgYnJlYWtwb2ludHM6IHtcclxuICAgIDMyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAvLyBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgIH0sXHJcbiAgICA3ODA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgLy8gc3BhY2VCZXR3ZWVuOiAzMixcclxuICAgICAgLy8gc2xpZGVzUGVyR3JvdXA6IDIsXHJcbiAgICB9LFxyXG4gICAgMTAyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAvLyBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6IFwiLnJldmlld3MgLnN3aXBlci1idXR0b24tbmV4dFwiLFxyXG4gICAgcHJldkVsOiBcIi5yZXZpZXdzIC5zd2lwZXItYnV0dG9uLXByZXZcIixcclxuICB9LFxyXG59KTtcclxuIl19
