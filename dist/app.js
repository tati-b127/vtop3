"use strict";function e(){var e=document.querySelectorAll(".burger__link"),n=document.querySelectorAll(".burger__link-last-trigger");window.innerWidth<780?(e.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".burger__item"),i=e.nextSibling;null!==i&&(i.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.classList.add("visible"));i.querySelector(".burger__btn-back").addEventListener("click",(function(){i.style.display="none",n.forEach((function(e){e.classList.remove("flip")})),i.classList.remove("visible")})),t()}(e)}))})),n.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".header__dropdown-menu > li"),i=document.querySelectorAll(".header__dropdown-menu > .header__link"),s=document.querySelectorAll(".header__dropdown-menu"),l=e.nextSibling;null!==l&&(l.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.forEach((function(e){e.classList.add("flip")})),s.forEach((function(e){e.classList.add("hidden")})),l.classList.add("visible"));l.querySelector(".burger__btn-back").addEventListener("click",(function(){l.style.display="none",l.classList.remove("visible"),n.forEach((function(e){e.classList.remove("flip")})),i.forEach((function(e){e.classList.remove("flip")})),s.forEach((function(e){e.classList.remove("hidden")}))})),t()}(e)}))})),document.body.style.overflow="hidden"):window.innerWidth>780&&(document.body.style.overflow="scroll")}function t(){var e=document.querySelectorAll(".burger__btn-close"),t=document.querySelector(".burger__list");e.forEach((function(e){e.addEventListener("click",(function(){n(),t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"))}))}))}function n(){var e=document.querySelectorAll(".flip"),t=(document.querySelector(".burger__list.visible"),document.querySelectorAll(".header__dropdown-menu.visible")),n=document.querySelectorAll(".burger__list-last.visible");t.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),n.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),e.forEach((function(e){e.classList.remove("flip")}))}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".burger__btn");window.addEventListener("resize",(function(){e(),document.body.style.overflow="scroll"})),document.addEventListener("click",(function(e){var t=document.querySelector(".burger__list");t.contains(e.target)||e.target.classList.contains("burger__btn")||(n(),t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll")})),t.addEventListener("click",(function(){var t;(t=document.querySelector(".burger__list")).classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e()):t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll",n())}))}));var i=document.querySelectorAll(".cases__btn");document.querySelector(".cases__content").classList.add("is-open"),i.forEach((function(e,t){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTrigger+'"]'),n=this.parentNode.parentNode;n.querySelector(".is-open").classList.remove("is-open"),n.querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-open"),this.classList.add("is-active")}))})),new Accordion(".accordion");var s=document.querySelector(".footer__phone-hover"),l=document.querySelector(".footer__mail-hover");s.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("none")})),l.addEventListener("click",(function(e){e.preventDefault(),l.classList.add("none")}));var a,o,c,r,d,u,v,b,f,p=document.querySelector(".header__phone-hover"),m=document.querySelector(".header__mail-hover");for(p.addEventListener("click",(function(e){e.preventDefault(),p.classList.add("none")})),m.addEventListener("click",(function(e){e.preventDefault(),m.classList.add("none")})),r=(a=document.getElementsByClassName("custom-select")).length,o=0;o<r;o++){d=(u=a[o].getElementsByTagName("select")[0]).length,(v=document.createElement("DIV")).setAttribute("class","select-selected"),v.innerHTML=u.options[u.selectedIndex].innerHTML;var h=u.querySelectorAll("option");for(a[o].appendChild(v),(b=document.createElement("DIV")).setAttribute("class","select-items select-hide"),c=1;c<d;c++)(f=document.createElement("DIV")).classList.add("select-div"),f.dataset.tabTriggerMobile=h[c].value,f.innerHTML=u.options[c].innerHTML,f.addEventListener("click",(function(e){var t,n,i,s,l,a,o;for(e.preventDefault(),a=(s=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,l=this.parentNode.previousSibling,n=0;n<a;n++)if(s.options[n].innerHTML==this.innerHTML){for(s.selectedIndex=n,l.innerHTML=this.innerHTML,o=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,i=0;i<o;i++)t[i].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()})),b.appendChild(f);a[o].appendChild(b),v.addEventListener("click",(function(e){e.stopPropagation(),y(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function y(e){var t,n,i,s,l,a=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=t.length,l=n.length,i=0;i<l;i++)e==n[i]?a.push(i):n[i].classList.remove("select-arrow-active");for(i=0;i<s;i++)a.indexOf(i)&&t[i].classList.add("select-hide")}document.addEventListener("click",y),document.querySelectorAll(".select-div[data-tab-trigger-mobile]").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.parentNode.parentNode.parentNode,n=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTriggerMobile+'"]');t.querySelector(".is-open").classList.remove("is-open"),n.classList.add("is-open")}))}));var _=document.querySelectorAll(".advantages__label");function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,L(i.key),i)}}function L(e){var t=k(e,"string");return"symbol"===w(t)?t:String(t)}function k(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e,t,n){S(e,t),t.set(e,n)}function S(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function T(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,A(e,t,"get"))}function x(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,A(e,t,"set"),n),n}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}_.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),_.forEach((function(e){e.classList.remove("advantages__active"),e.nextSibling.classList.remove("advantages__open")})),e.target.classList.add("advantages__active"),e.target.nextSibling.classList.add("advantages__open")}))}));var M=new WeakMap,P=new WeakMap,N=new WeakMap,B=new WeakMap,D=new WeakMap,V=new WeakMap,H=new WeakMap,C=new WeakSet,W=function(){function e(){var t,n,i=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(t=this,n=C),n.add(t),E(this,M,{writable:!0,value:void 0}),E(this,P,{writable:!0,value:'<div class="itc-modal-backdrop"><div class="itc-modal-content"><div class="itc-modal-header"><span class="itc-modal-btn-close" title="Закрыть">×</span></div><div class="itc-modal-body">{{content}}</div>{{footer}}</div></div>'}),E(this,N,{writable:!0,value:'<div class="itc-modal-footer">{{buttons}}</div>'}),E(this,B,{writable:!0,value:'<button type="button" class="{{class}}" data-action={{action}}>{{text}}</button>'}),E(this,D,{writable:!0,value:new Event("show.itc.modal",{bubbles:!0})}),E(this,V,{writable:!0,value:new Event("hide.itc.modal",{bubbles:!0})}),E(this,H,{writable:!0,value:!1}),x(this,M,document.createElement("div")),T(this,M).classList.add("itc-modal");var l=T(this,P).replace("{{title}}",s.title||"Новое окно");l=l.replace("{{content}}",s.content||"");var a=(s.footerButtons||[]).map((function(e){var t=T(i,B).replace("{{class}}",e.class);return(t=t.replace("{{action}}",e.action)).replace("{{text}}",e.text)})),o=a.length?T(this,N).replace("{{buttons}}",a.join("")):"";l=l.replace("{{footer}}",o),T(this,M).innerHTML=l,document.body.append(T(this,M)),T(this,M).addEventListener("click",q(this,C,j).bind(this))}var t,n,i;return t=e,(n=[{key:"show",value:function(){T(this,H)||(T(this,M).classList.add("itc-modal-show"),T(this,M).dispatchEvent(T(this,D)))}},{key:"hide",value:function(){T(this,M).classList.remove("itc-modal-show"),T(this,M).dispatchEvent(T(this,V)),document.body.style.position="",document.body.style.top=""}},{key:"dispose",value:function(){T(this,M).remove(T(this,M)),T(this,M).removeEventListener("click",q(this,C,j)),x(this,H,!0)}},{key:"setBody",value:function(e){T(this,M).querySelector(".itc-modal-body").innerHTML=e}},{key:"setTitle",value:function(e){T(this,M).querySelector(".itc-modal-title").innerHTML=e}}])&&g(t.prototype,n),i&&g(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){(e.target.closest(".itc-modal-btn-close")||e.target.classList.contains("itc-modal-backdrop"))&&this.hide()}var I,O=new W({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Будем рады помочь</h3><form action="" class="callback__form"><label class="callback__label" for="name">Ваше имя</label><input class="callback__input" type="text" name="name" id="name"><label class="callback__label" for="phone">Телефон</label><input class="callback__input" type="tel" name="phone" id="phone"><label class="callback__label" for="message">Комментарий</label><textarea class="callback__input callback__input_text" name="message" id="message" rows="3"></textarea><label class="callback__label callback__label_check" for="agree"><input class="callback__checkbox" type="checkbox" name="agree" id="agree"><span class="callback__span"></span>Нажимая кнопку отправить заявку, даю согласие на обработку персональных данных*</label><button class="callback__btn btn btn-ok">Отправить заявку</button></form></div></div>'}),z=new W({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Спасибо!</h3><div class="callback__label">Мы скоро с Вами свяжемся!</div></div></div>'}),G=document.querySelectorAll(".btn-show-modal"),F=document.querySelectorAll(".btn-ok");function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function J(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=k(e,"string");return"symbol"===w(t)?t:String(t)}function k(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}G.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),O.show()}))})),F.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),O.hide(),z.show()}))}));new Swiper(".cases__swiper",{loop:!0,slidesPerView:1,navigation:{nextEl:".cases .swiper-button-next",prevEl:".cases .swiper-button-prev"}}),new Swiper(".hero__swiper",(J(I={speed:3500,loop:!0,slidesPerView:1,spaceBetween:30},"loop",!0),J(I,"effect","fade"),J(I,"fadeEffect",{crossFade:!0}),J(I,"autoplay",!0),I)),new Swiper(".clients__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:20,breakpoints:{320:{slidesPerView:1,spaceBetween:0,slidesPerGroup:1},520:{slidesPerView:2,spaceBetween:32,slidesPerGroup:2},820:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:".clients .swiper-button-next",prevEl:".clients .swiper-button-prev"}}),new Swiper(".reviews__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:10,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},780:{slidesPerView:2},1020:{slidesPerView:3}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1cmdlci5qcyIsIm1haW4uanMiLCJtb2RhbC5qcyIsInN3aXBlci5qcyJdLCJuYW1lcyI6WyJpbm5lcldpbmRvdyIsImJ1cmdlckl0ZW1MaW5rIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnVyZ2VyTGFzdFRyaWdnZXIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZm9yRWFjaCIsImxpbmsiLCJhZGRFdmVudExpc3RlbmVyIiwiaXRlbXMiLCJsaXN0IiwibmV4dFNpYmxpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsImNsb3NlQWxsU3ViTWVudSIsIm9wZW5TdWJNZW51IiwibGlua3MiLCJkcm9wTWVudSIsImxhc3RMaXN0Iiwib3Blbkxhc3RNZW51IiwiYm9keSIsIm92ZXJmbG93IiwiYnRuQ2xvc2UiLCJidXJnZXJMaXN0IiwiYnRuIiwicmVtb3ZlVmlzaWJsZSIsImNvbnRhaW5zIiwiZmxpcEVsZW1lbnRzIiwiZHJvcGRvd25MaXN0IiwiZHJvcGRvd24iLCJlIiwiYnVyZ2VyQnRuIiwiZXZlbnQiLCJ0YXJnZXQiLCJ0YWJUcmlnZ2VyQnRucyIsInRhYlRyaWdnZXJCdG4iLCJpbmRleCIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhYkRhdGEiLCJ0aGlzIiwiZGF0YXNldCIsInRhYlRyaWdnZXIiLCJjdXJyZW50U2xpZGUiLCJwYXJlbnROb2RlIiwiQWNjb3JkaW9uIiwiY29udGFjdFBob25lIiwiY29udGFjdE1haWwiLCJ4IiwiaSIsImoiLCJsIiwibGwiLCJzZWxFbG1udCIsImEiLCJiIiwiYyIsImNvbnRhY3RIZWFkZXJQaG9uZSIsImNvbnRhY3RIZWFkZXJNYWlsIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4Iiwib3B0IiwiYXBwZW5kQ2hpbGQiLCJ0YWJUcmlnZ2VyTW9iaWxlIiwidmFsdWUiLCJ5IiwiayIsInMiLCJoIiwic2wiLCJ5bCIsInByZXZpb3VzU2libGluZyIsInJlbW92ZUF0dHJpYnV0ZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VBbGxTZWxlY3QiLCJ0b2dnbGUiLCJlbG1udCIsInhsIiwiYXJyTm8iLCJwdXNoIiwiaW5kZXhPZiIsInRhYiIsImN1cnJlbnRTTGlkZU1vYmlsZSIsImlucHV0c0xhYmVsIiwiaW5wdXQiLCJsYWJlbCIsIkl0Y01vZGFsIiwiX3RoaXMiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfaGFuZGxlckNsb3NlTW9kYWwiLCJfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyIsIl9lbGVtIiwid3JpdGFibGUiLCJfdGVtcGxhdGUiLCJfdGVtcGxhdGVGb290ZXIiLCJfdGVtcGxhdGVCdG4iLCJfZXZlbnRTaG93TW9kYWwiLCJFdmVudCIsImJ1YmJsZXMiLCJfZXZlbnRIaWRlTW9kYWwiLCJfZGlzcG9zZWQiLCJfY2xhc3NQcml2YXRlRmllbGRTZXQiLCJfY2xhc3NQcml2YXRlRmllbGRHZXQiLCJodG1sIiwicmVwbGFjZSIsInRpdGxlIiwiY29udGVudCIsImJ1dHRvbnMiLCJmb290ZXJCdXR0b25zIiwibWFwIiwiYWN0aW9uIiwidGV4dCIsImZvb3RlciIsImpvaW4iLCJhcHBlbmQiLCJfY2xhc3NQcml2YXRlTWV0aG9kR2V0IiwiX2hhbmRsZXJDbG9zZU1vZGFsMiIsImJpbmQiLCJrZXkiLCJkaXNwYXRjaEV2ZW50IiwicG9zaXRpb24iLCJ0b3AiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2VzdCIsImhpZGUiLCJtb2RhbCIsIm1vZGFsU3VjY2VzcyIsImJ0blNob3dNb2RhbCIsImJ0bk9rIiwic2hvdyIsIlN3aXBlciIsImxvb3AiLCJzbGlkZXNQZXJWaWV3IiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9Td2lwZXIiLCJzcGVlZCIsInNwYWNlQmV0d2VlbiIsImNyb3NzRmFkZSIsImRpcmVjdGlvbiIsImVmZmVjdCIsImJyZWFrcG9pbnRzIiwic2xpZGVzUGVyR3JvdXAiXSwibWFwcGluZ3MiOiJhQXdDQSxTQUFTQSxJQUNQLElBQU1DLEVBQWlCQyxTQUFTQyxpQkFBaUIsaUJBQzNDQyxFQUFvQkYsU0FBU0MsaUJBQ2pDLDhCQUdFRSxPQUFPQyxXQUFhLEtBQ3RCTCxFQUFlTSxTQUFRLFNBQUNDLEdBQ3RCQSxFQUFLQyxpQkFBaUIsU0FBUyxZQWVyQyxTQUFxQkQsR0FDbkIsSUFBTUUsRUFBUVIsU0FBU0MsaUJBQWlCLGlCQUVsQ1EsRUFBT0gsRUFBS0ksWUFDTCxPQUFURCxJQUNGQSxFQUFLRSxNQUFNQyxRQUFVLFFBQ3JCSixFQUFNSCxTQUFRLFNBQUNRLEdBQ2JBLEVBQUtDLFVBQVVDLElBQUksT0FDckIsSUFDQU4sRUFBS0ssVUFBVUMsSUFBSSxZQUVMTixFQUFLTyxjQUFjLHFCQUMzQlQsaUJBQWlCLFNBQVMsV0FDaENFLEVBQUtFLE1BQU1DLFFBQVUsT0FDckJKLEVBQU1ILFNBQVEsU0FBQ1EsR0FDYkEsRUFBS0MsVUFBVUcsT0FBTyxPQUN4QixJQUNBUixFQUFLSyxVQUFVRyxPQUFPLFVBQ3hCLElBQ0FDLEdBQ0YsQ0FsQ1FDLENBQVliLEVBQ2QsR0FDRixJQUNBSixFQUFrQkcsU0FBUSxTQUFDQyxHQUN6QkEsRUFBS0MsaUJBQWlCLFNBQVMsWUErQnJDLFNBQXNCRCxHQUNwQixJQUFNRSxFQUFRUixTQUFTQyxpQkFBaUIsK0JBQ2xDbUIsRUFBUXBCLFNBQVNDLGlCQUNyQiwwQ0FFSW9CLEVBQVdyQixTQUFTQyxpQkFBaUIsMEJBRXJDcUIsRUFBV2hCLEVBQUtJLFlBRUwsT0FBYlksSUFDRkEsRUFBU1gsTUFBTUMsUUFBVSxRQUN6QkosRUFBTUgsU0FBUSxTQUFDUSxHQUNiQSxFQUFLQyxVQUFVQyxJQUFJLE9B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QUNGLENBQ1ZHLFdBQVcsSUFDWkosRUFBQUMsRUFBQSxZQUNTLEdBQUlBLElBRU0sSUFBSVAsT0FBTyxtQkFBb0IsQ0FDbkRXLFVBQVcsYUFDWFYsTUFBTSxFQUNOQyxjQUFlLEVBQ2ZVLE9BQVEsUUFDUkgsYUFBYyxHQUNkSSxZQUFhLENBQ1gsSUFBSyxDQUNIWCxjQUFlLEVBQ2ZPLGFBQWMsRUFDZEssZUFBZ0IsR0FFbEIsSUFBSyxDQUNIWixjQUFlLEVBQ2ZPLGFBQWMsR0FDZEssZUFBZ0IsR0FFbEIsSUFBSyxDQUNIWixjQUFlLEVBQ2ZPLGFBQWMsS0FHbEJOLFdBQVksQ0FDVkMsT0FBUSwrQkFDUkMsT0FBUSxrQ0FHVSxJQUFJTCxPQUFPLG1CQUFvQixDQUNuRFcsVUFBVyxhQUNYVixNQUFNLEVBQ05DLGNBQWUsRUFDZlUsT0FBUSxRQUNSSCxhQUFjLEdBQ2RJLFlBQWEsQ0FDWCxJQUFLLENBQ0hYLGNBQWUsRUFDZlksZUFBZ0IsRUFDaEJMLGFBQWMsR0FFaEIsSUFBSyxDQUNIUCxjQUFlLEdBRWpCLEtBQU0sQ0FDSkEsY0FBZSxJQUluQkMsV0FBWSxDQUNWQyxPQUFRLCtCQUNSQyxPQUFRIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYnRuXCIpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgIGlubmVyV2luZG93KCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICB9KTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCBidXJnZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2xpc3RcIik7XHJcbiAgICBpZiAoXHJcbiAgICAgICFidXJnZXJMaXN0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiZcclxuICAgICAgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJnZXJfX2J0blwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHJlbW92ZVZpc2libGUoKTtcclxuICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuXHJcbiAgICAgIC8vICAgZmxpcEJ1cmdlck1lbnUoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBmbGlwQnVyZ2VyTWVudSgpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGZsaXBCdXJnZXJNZW51KCkge1xyXG4gIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdFwiKTtcclxuICBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICBpbm5lcldpbmRvdygpO1xyXG4gIH0gZWxzZSBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcbiAgICByZW1vdmVWaXNpYmxlKCk7XHJcbiAgICAvLyBpbm5lcldpbmRvdygpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBpbm5lcldpbmRvdygpIHtcclxuICBjb25zdCBidXJnZXJJdGVtTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19saW5rXCIpO1xyXG4gIGNvbnN0IGJ1cmdlckxhc3RUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgIFwiLmJ1cmdlcl9fbGluay1sYXN0LXRyaWdnZXJcIlxyXG4gICk7XHJcblxyXG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc4MCkge1xyXG4gICAgYnVyZ2VySXRlbUxpbmsuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgb3BlblN1Yk1lbnUobGluayk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBidXJnZXJMYXN0VHJpZ2dlci5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBvcGVuTGFzdE1lbnUobGluayk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDc4MCkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIG9wZW5TdWJNZW51KGxpbmspIHtcclxuICBjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19pdGVtXCIpO1xyXG5cclxuICBjb25zdCBsaXN0ID0gbGluay5uZXh0U2libGluZztcclxuICBpZiAobGlzdCAhPT0gbnVsbCkge1xyXG4gICAgbGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsaXN0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG4gIH1cclxuICBjb25zdCBidG5CYWNrID0gbGlzdC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYnRuLWJhY2tcIik7XHJcbiAgYnRuQmFjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgfSk7XHJcbiAgY2xvc2VBbGxTdWJNZW51KCk7XHJcbn1cclxuZnVuY3Rpb24gb3Blbkxhc3RNZW51KGxpbmspIHtcclxuICBjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19kcm9wZG93bi1tZW51ID4gbGlcIik7XHJcbiAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuaGVhZGVyX19kcm9wZG93bi1tZW51ID4gLmhlYWRlcl9fbGlua1wiXHJcbiAgKTtcclxuICBjb25zdCBkcm9wTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19kcm9wZG93bi1tZW51XCIpO1xyXG5cclxuICBjb25zdCBsYXN0TGlzdCA9IGxpbmsubmV4dFNpYmxpbmc7XHJcblxyXG4gIGlmIChsYXN0TGlzdCAhPT0gbnVsbCkge1xyXG4gICAgbGFzdExpc3Quc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBkcm9wTWVudS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH0pO1xyXG4gICAgbGFzdExpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgfVxyXG4gIGNvbnN0IGJ0bkJhY2sgPSBsYXN0TGlzdC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYnRuLWJhY2tcIik7XHJcbiAgYnRuQmFjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbGFzdExpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgbGFzdExpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgZHJvcE1lbnUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBjbG9zZUFsbFN1Yk1lbnUoKTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUFsbFN1Yk1lbnUoKSB7XHJcbiAgY29uc3QgYnRuQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYnRuLWNsb3NlXCIpO1xyXG4gIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdFwiKTtcclxuXHJcbiAgYnRuQ2xvc2UuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcmVtb3ZlVmlzaWJsZSgpO1xyXG4gICAgICBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVZpc2libGUoKSB7XHJcbiAgY29uc3QgZmxpcEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGlwXCIpO1xyXG4gIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdC52aXNpYmxlXCIpO1xyXG4gIGNvbnN0IGRyb3Bkb3duTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUudmlzaWJsZVwiXHJcbiAgKTtcclxuICBjb25zdCBsYXN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19saXN0LWxhc3QudmlzaWJsZVwiKTtcclxuICBkcm9wZG93bkxpc3QuZm9yRWFjaCgoZHJvcGRvd24pID0+IHtcclxuICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG4gIGxhc3RMaXN0LmZvckVhY2goKGxpc3QpID0+IHtcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuICBmbGlwRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICB9KTtcclxufVxyXG4iLCIvLyBUYWJzXHJcblxyXG5jb25zdCB0YWJUcmlnZ2VyQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZXNfX2J0blwiKTtcclxuY29uc3QgY2FzZXNUYWJPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlc19fY29udGVudFwiKTtcclxuY2FzZXNUYWJPcGVuLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpO1xyXG50YWJUcmlnZ2VyQnRucy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJUcmlnZ2VyQnRuLCBpbmRleCkge1xyXG4gIHRhYlRyaWdnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBjdXJyZW50VGFiRGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcuY2FzZXNfX2NvbnRlbnRbZGF0YS10YWItY29udGVudD1cIicgKyB0aGlzLmRhdGFzZXQudGFiVHJpZ2dlciArICdcIl0nXHJcbiAgICApO1xyXG4gICAgY29uc3QgY3VycmVudFNsaWRlID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGU7XHJcbiAgICBjb25zdCBpc09wZW4gPSBjdXJyZW50U2xpZGUucXVlcnlTZWxlY3RvcihcIi5pcy1vcGVuXCIpO1xyXG4gICAgaXNPcGVuLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1vcGVuXCIpO1xyXG4gICAgY29uc3QgaXNBY3RpdmUgPSBjdXJyZW50U2xpZGUucXVlcnlTZWxlY3RvcihcIi5pcy1hY3RpdmVcIik7XHJcbiAgICBpc0FjdGl2ZS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgY3VycmVudFRhYkRhdGEuY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gYWNjb3JkaW9uXHJcblxyXG5uZXcgQWNjb3JkaW9uKFwiLmFjY29yZGlvblwiKTtcclxuXHJcbi8vIHNob3cgY29udGFjdHNcclxuY29uc3QgY29udGFjdFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX3Bob25lLWhvdmVyXCIpO1xyXG5jb25zdCBjb250YWN0TWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19tYWlsLWhvdmVyXCIpO1xyXG5jb250YWN0UGhvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnRhY3RQaG9uZS5jbGFzc0xpc3QuYWRkKFwibm9uZVwiKTtcclxufSk7XHJcbmNvbnRhY3RNYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb250YWN0TWFpbC5jbGFzc0xpc3QuYWRkKFwibm9uZVwiKTtcclxufSk7XHJcbmNvbnN0IGNvbnRhY3RIZWFkZXJQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19waG9uZS1ob3ZlclwiKTtcclxuY29uc3QgY29udGFjdEhlYWRlck1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbWFpbC1ob3ZlclwiKTtcclxuY29udGFjdEhlYWRlclBob25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb250YWN0SGVhZGVyUGhvbmUuY2xhc3NMaXN0LmFkZChcIm5vbmVcIik7XHJcbn0pO1xyXG5jb250YWN0SGVhZGVyTWFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29udGFjdEhlYWRlck1haWwuY2xhc3NMaXN0LmFkZChcIm5vbmVcIik7XHJcbn0pO1xyXG5cclxuLy8gY3VzdG9tIHNlbGVjdFxyXG52YXIgeCwgaSwgaiwgbCwgbGwsIHNlbEVsbW50LCBhLCBiLCBjO1xyXG54ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImN1c3RvbS1zZWxlY3RcIik7XHJcbmwgPSB4Lmxlbmd0aDtcclxuZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gIHNlbEVsbW50ID0geFtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNlbGVjdFwiKVswXTtcclxuICBsbCA9IHNlbEVsbW50Lmxlbmd0aDtcclxuICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICBhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0LXNlbGVjdGVkXCIpO1xyXG4gIGEuaW5uZXJIVE1MID0gc2VsRWxtbnQub3B0aW9uc1tzZWxFbG1udC5zZWxlY3RlZEluZGV4XS5pbm5lckhUTUw7XHJcbiAgY29uc3Qgb3B0ID0gc2VsRWxtbnQucXVlcnlTZWxlY3RvckFsbChcIm9wdGlvblwiKTtcclxuICB4W2ldLmFwcGVuZENoaWxkKGEpO1xyXG4gIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gIGIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3QtaXRlbXMgc2VsZWN0LWhpZGVcIik7XHJcbiAgZm9yIChqID0gMTsgaiA8IGxsOyBqKyspIHtcclxuICAgIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgYy5jbGFzc0xpc3QuYWRkKFwic2VsZWN0LWRpdlwiKTtcclxuICAgIGMuZGF0YXNldC50YWJUcmlnZ2VyTW9iaWxlID0gb3B0W2pdLnZhbHVlO1xyXG4gICAgYy5pbm5lckhUTUwgPSBzZWxFbG1udC5vcHRpb25zW2pdLmlubmVySFRNTDtcclxuICAgIGMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIHksIGksIGssIHMsIGgsIHNsLCB5bDtcclxuICAgICAgcyA9IHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2VsZWN0XCIpWzBdO1xyXG4gICAgICBzbCA9IHMubGVuZ3RoO1xyXG4gICAgICBoID0gdGhpcy5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZztcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHNsOyBpKyspIHtcclxuICAgICAgICBpZiAocy5vcHRpb25zW2ldLmlubmVySFRNTCA9PSB0aGlzLmlubmVySFRNTCkge1xyXG4gICAgICAgICAgcy5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgIGguaW5uZXJIVE1MID0gdGhpcy5pbm5lckhUTUw7XHJcbiAgICAgICAgICB5ID0gdGhpcy5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzYW1lLWFzLXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgeWwgPSB5Lmxlbmd0aDtcclxuICAgICAgICAgIGZvciAoayA9IDA7IGsgPCB5bDsgaysrKSB7XHJcbiAgICAgICAgICAgIHlba10ucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2FtZS1hcy1zZWxlY3RlZFwiKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBoLmNsaWNrKCk7XHJcbiAgICB9KTtcclxuICAgIGIuYXBwZW5kQ2hpbGQoYyk7XHJcbiAgfVxyXG4gIHhbaV0uYXBwZW5kQ2hpbGQoYik7XHJcbiAgYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjbG9zZUFsbFNlbGVjdCh0aGlzKTtcclxuICAgIHRoaXMubmV4dFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShcInNlbGVjdC1oaWRlXCIpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwic2VsZWN0LWFycm93LWFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUFsbFNlbGVjdChlbG1udCkge1xyXG4gIHZhciB4LFxyXG4gICAgeSxcclxuICAgIGksXHJcbiAgICB4bCxcclxuICAgIHlsLFxyXG4gICAgYXJyTm8gPSBbXTtcclxuICB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNlbGVjdC1pdGVtc1wiKTtcclxuICB5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNlbGVjdC1zZWxlY3RlZFwiKTtcclxuICB4bCA9IHgubGVuZ3RoO1xyXG4gIHlsID0geS5sZW5ndGg7XHJcbiAgZm9yIChpID0gMDsgaSA8IHlsOyBpKyspIHtcclxuICAgIGlmIChlbG1udCA9PSB5W2ldKSB7XHJcbiAgICAgIGFyck5vLnB1c2goaSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB5W2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3QtYXJyb3ctYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBmb3IgKGkgPSAwOyBpIDwgeGw7IGkrKykge1xyXG4gICAgaWYgKGFyck5vLmluZGV4T2YoaSkpIHtcclxuICAgICAgeFtpXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0LWhpZGVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUFsbFNlbGVjdCk7XHJcblxyXG5jb25zdCB0YWJzTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICBcIi5zZWxlY3QtZGl2W2RhdGEtdGFiLXRyaWdnZXItbW9iaWxlXVwiXHJcbik7XHJcbnRhYnNNb2JpbGUuZm9yRWFjaCgodGFiKSA9PiB7XHJcbiAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgY3VycmVudFNMaWRlTW9iaWxlID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgIGNvbnN0IGN1cnJlbnRUYWJEYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy5jYXNlc19fY29udGVudFtkYXRhLXRhYi1jb250ZW50PVwiJyArXHJcbiAgICAgICAgdGhpcy5kYXRhc2V0LnRhYlRyaWdnZXJNb2JpbGUgK1xyXG4gICAgICAgICdcIl0nXHJcbiAgICApO1xyXG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBjdXJyZW50U0xpZGVNb2JpbGUucXVlcnlTZWxlY3RvcihcIi5pcy1vcGVuXCIpO1xyXG4gICAgY3VycmVudENvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XHJcbiAgICBjdXJyZW50VGFiRGF0YS5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vL2FkdmFudGFnZXMgdGFic1xyXG5jb25zdCBpbnB1dHNMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWR2YW50YWdlc19fbGFiZWxcIik7XHJcbmlucHV0c0xhYmVsLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpbnB1dHNMYWJlbC5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWR2YW50YWdlc19fYWN0aXZlXCIpO1xyXG4gICAgICBsYWJlbC5uZXh0U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWR2YW50YWdlc19fb3BlblwiKTtcclxuICAgIH0pO1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFkdmFudGFnZXNfX2FjdGl2ZVwiKTtcclxuICAgIGUudGFyZ2V0Lm5leHRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoXCJhZHZhbnRhZ2VzX19vcGVuXCIpO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiY2xhc3MgSXRjTW9kYWwge1xyXG4gICNlbGVtO1xyXG4gICN0ZW1wbGF0ZSA9XHJcbiAgICAnPGRpdiBjbGFzcz1cIml0Yy1tb2RhbC1iYWNrZHJvcFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtY29udGVudFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtaGVhZGVyXCI+PHNwYW4gY2xhc3M9XCJpdGMtbW9kYWwtYnRuLWNsb3NlXCIgdGl0bGU9XCLQl9Cw0LrRgNGL0YLRjFwiPsOXPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtYm9keVwiPnt7Y29udGVudH19PC9kaXY+e3tmb290ZXJ9fTwvZGl2PjwvZGl2Pic7XHJcbiAgI3RlbXBsYXRlRm9vdGVyID0gJzxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtZm9vdGVyXCI+e3tidXR0b25zfX08L2Rpdj4nO1xyXG4gICN0ZW1wbGF0ZUJ0biA9XHJcbiAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ7e2NsYXNzfX1cIiBkYXRhLWFjdGlvbj17e2FjdGlvbn19Pnt7dGV4dH19PC9idXR0b24+JztcclxuICAjZXZlbnRTaG93TW9kYWwgPSBuZXcgRXZlbnQoXCJzaG93Lml0Yy5tb2RhbFwiLCB7IGJ1YmJsZXM6IHRydWUgfSk7XHJcbiAgI2V2ZW50SGlkZU1vZGFsID0gbmV3IEV2ZW50KFwiaGlkZS5pdGMubW9kYWxcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xyXG4gICNkaXNwb3NlZCA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0gW10pIHtcclxuICAgIHRoaXMuI2VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5jbGFzc0xpc3QuYWRkKFwiaXRjLW1vZGFsXCIpO1xyXG4gICAgbGV0IGh0bWwgPSB0aGlzLiN0ZW1wbGF0ZS5yZXBsYWNlKFxyXG4gICAgICBcInt7dGl0bGV9fVwiLFxyXG4gICAgICBvcHRpb25zLnRpdGxlIHx8IFwi0J3QvtCy0L7QtSDQvtC60L3QvlwiXHJcbiAgICApO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Y29udGVudH19XCIsIG9wdGlvbnMuY29udGVudCB8fCBcIlwiKTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSAob3B0aW9ucy5mb290ZXJCdXR0b25zIHx8IFtdKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgbGV0IGJ0biA9IHRoaXMuI3RlbXBsYXRlQnRuLnJlcGxhY2UoXCJ7e2NsYXNzfX1cIiwgaXRlbS5jbGFzcyk7XHJcbiAgICAgIGJ0biA9IGJ0bi5yZXBsYWNlKFwie3thY3Rpb259fVwiLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgIHJldHVybiBidG4ucmVwbGFjZShcInt7dGV4dH19XCIsIGl0ZW0udGV4dCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGZvb3RlciA9IGJ1dHRvbnMubGVuZ3RoXHJcbiAgICAgID8gdGhpcy4jdGVtcGxhdGVGb290ZXIucmVwbGFjZShcInt7YnV0dG9uc319XCIsIGJ1dHRvbnMuam9pbihcIlwiKSlcclxuICAgICAgOiBcIlwiO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Zm9vdGVyfX1cIiwgZm9vdGVyKTtcclxuICAgIHRoaXMuI2VsZW0uaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuI2VsZW0pO1xyXG4gICAgdGhpcy4jZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jaGFuZGxlckNsb3NlTW9kYWwuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAjaGFuZGxlckNsb3NlTW9kYWwoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiLml0Yy1tb2RhbC1idG4tY2xvc2VcIikgfHxcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRjLW1vZGFsLWJhY2tkcm9wXCIpXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93KCkge1xyXG4gICAgaWYgKHRoaXMuI2Rpc3Bvc2VkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuI2VsZW0uY2xhc3NMaXN0LmFkZChcIml0Yy1tb2RhbC1zaG93XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5kaXNwYXRjaEV2ZW50KHRoaXMuI2V2ZW50U2hvd01vZGFsKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLiNlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGMtbW9kYWwtc2hvd1wiKTtcclxuICAgIHRoaXMuI2VsZW0uZGlzcGF0Y2hFdmVudCh0aGlzLiNldmVudEhpZGVNb2RhbCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gXCJcIjtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLiNlbGVtLnJlbW92ZSh0aGlzLiNlbGVtKTtcclxuICAgIHRoaXMuI2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuI2hhbmRsZXJDbG9zZU1vZGFsKTtcclxuICAgIHRoaXMuI2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHNldEJvZHkoaHRtbCkge1xyXG4gICAgdGhpcy4jZWxlbS5xdWVyeVNlbGVjdG9yKFwiLml0Yy1tb2RhbC1ib2R5XCIpLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgfVxyXG5cclxuICBzZXRUaXRsZSh0ZXh0KSB7XHJcbiAgICB0aGlzLiNlbGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRjLW1vZGFsLXRpdGxlXCIpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtb2RhbCA9IG5ldyBJdGNNb2RhbCh7XHJcbiAgY29udGVudDpcclxuICAgICc8ZGl2IGNsYXNzPVwiY2FsbGJhY2sgY2FsbGJhY2tfX21vZGFsXCI+PGRpdiBjbGFzcz1cImNhbGxiYWNrX19ibG9jayBjYWxsYmFja19fYmxvY2tfMlwiPjxoMyBjbGFzcz1cImNhbGxiYWNrX19zdWJ0aXRsZVwiPtCR0YPQtNC10Lwg0YDQsNC00Ysg0L/QvtC80L7Rh9GMPC9oMz48Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImNhbGxiYWNrX19mb3JtXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibmFtZVwiPtCS0LDRiNC1INC40LzRjzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiY2FsbGJhY2tfX2lucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIGlkPVwibmFtZVwiPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbFwiIGZvcj1cInBob25lXCI+0KLQtdC70LXRhNC+0L08L2xhYmVsPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19pbnB1dFwiIHR5cGU9XCJ0ZWxcIiBuYW1lPVwicGhvbmVcIiBpZD1cInBob25lXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibWVzc2FnZVwiPtCa0L7QvNC80LXQvdGC0LDRgNC40Lk8L2xhYmVsPjx0ZXh0YXJlYSBjbGFzcz1cImNhbGxiYWNrX19pbnB1dCBjYWxsYmFja19faW5wdXRfdGV4dFwiIG5hbWU9XCJtZXNzYWdlXCIgaWQ9XCJtZXNzYWdlXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbCBjYWxsYmFja19fbGFiZWxfY2hlY2tcIiBmb3I9XCJhZ3JlZVwiPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJhZ3JlZVwiIGlkPVwiYWdyZWVcIj48c3BhbiBjbGFzcz1cImNhbGxiYWNrX19zcGFuXCI+PC9zcGFuPtCd0LDQttC40LzQsNGPINC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDLCDQtNCw0Y7CoNGB0L7Qs9C70LDRgdC40LUg0L3QsMKg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUqPC9sYWJlbD48YnV0dG9uIGNsYXNzPVwiY2FsbGJhY2tfX2J0biBidG4gYnRuLW9rXCI+0J7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPjwvZm9ybT48L2Rpdj48L2Rpdj4nLFxyXG59KTtcclxuY29uc3QgbW9kYWxTdWNjZXNzID0gbmV3IEl0Y01vZGFsKHtcclxuICBjb250ZW50OlxyXG4gICAgJzxkaXYgY2xhc3M9XCJjYWxsYmFjayBjYWxsYmFja19fbW9kYWxcIj48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2Jsb2NrIGNhbGxiYWNrX19ibG9ja18yXCI+PGgzIGNsYXNzPVwiY2FsbGJhY2tfX3N1YnRpdGxlXCI+0KHQv9Cw0YHQuNCx0L4hPC9oMz48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCI+0JzRiyDRgdC60L7RgNC+INGBINCS0LDQvNC4INGB0LLRj9C20LXQvNGB0Y8hPC9kaXY+PC9kaXY+PC9kaXY+JyxcclxufSk7XHJcblxyXG5jb25zdCBidG5TaG93TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zaG93LW1vZGFsXCIpO1xyXG5jb25zdCBidG5PayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuLW9rXCIpO1xyXG5idG5TaG93TW9kYWwuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuc2hvdygpO1xyXG4gIH0pO1xyXG59KTtcclxuYnRuT2suZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuaGlkZSgpO1xyXG4gICAgbW9kYWxTdWNjZXNzLnNob3coKTtcclxuICB9KTtcclxufSk7XHJcbiIsImNvbnN0IHN3aXBlckNhc2VzID0gbmV3IFN3aXBlcihcIi5jYXNlc19fc3dpcGVyXCIsIHtcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgLy8gc3BhY2VCZXR3ZWVuOiAzMCxcclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6IFwiLmNhc2VzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIuY2FzZXMgLnN3aXBlci1idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJIZXJvID0gbmV3IFN3aXBlcihcIi5oZXJvX19zd2lwZXJcIiwge1xyXG4gIHNwZWVkOiAzNTAwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgc2xpZGVzUGVyVmlldzogMSxcclxuICBzcGFjZUJldHdlZW46IDMwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgZWZmZWN0OiBcImZhZGVcIixcclxuICBmYWRlRWZmZWN0OiB7XHJcbiAgICBjcm9zc0ZhZGU6IHRydWUsXHJcbiAgfSxcclxuICBhdXRvcGxheTogdHJ1ZSxcclxufSk7XHJcbmNvbnN0IHN3aXBlckNsaWVudHMgPSBuZXcgU3dpcGVyKFwiLmNsaWVudHNfX3N3aXBlclwiLCB7XHJcbiAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgZWZmZWN0OiBcInNsaWRlXCIsXHJcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICBicmVha3BvaW50czoge1xyXG4gICAgMzIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXHJcbiAgICB9LFxyXG4gICAgNTIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxyXG4gICAgfSxcclxuICAgIDgyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIG5hdmlnYXRpb246IHtcclxuICAgIG5leHRFbDogXCIuY2xpZW50cyAuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICBwcmV2RWw6IFwiLmNsaWVudHMgLnN3aXBlci1idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJSZXZpZXdzID0gbmV3IFN3aXBlcihcIi5yZXZpZXdzX19zd2lwZXJcIiwge1xyXG4gIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXHJcbiAgbG9vcDogdHJ1ZSxcclxuICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gIGVmZmVjdDogXCJzbGlkZVwiLFxyXG4gIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgYnJlYWtwb2ludHM6IHtcclxuICAgIDMyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgfSxcclxuICAgIDc4MDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgfSxcclxuICAgIDEwMjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5yZXZpZXdzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIucmV2aWV3cyAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXHJcbiAgfSxcclxufSk7XHJcbiJdfQ==
