"use strict";function e(){console.log(window.innerWidth);var e=document.querySelectorAll(".burger__link"),n=document.querySelectorAll(".burger__link-last-trigger");window.innerWidth<780?(e.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".burger__item"),i=e.nextSibling;null!==i&&(i.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.classList.add("visible"));var o=i.querySelector(".burger__btn-back");console.log(o),o.addEventListener("click",(function(){i.style.display="none",n.forEach((function(e){e.classList.remove("flip")})),i.classList.remove("visible")})),t()}(e)}))})),n.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".header__dropdown-menu > li"),i=document.querySelectorAll(".header__dropdown-menu > .header__link"),o=document.querySelectorAll(".header__dropdown-menu"),l=e.nextSibling;console.log(l),null!==l&&(l.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.forEach((function(e){e.classList.add("flip")})),o.forEach((function(e){e.classList.add("hidden")})),l.classList.add("visible"));var s=l.querySelector(".burger__btn-back");console.log(s),s.addEventListener("click",(function(){console.log(n),l.style.display="none",l.classList.remove("visible"),n.forEach((function(e){e.classList.remove("flip")})),i.forEach((function(e){e.classList.remove("flip")})),o.forEach((function(e){e.classList.remove("hidden")}))})),t()}(e)}))})),document.body.style.overflow="hidden"):window.innerWidth>780&&(document.body.style.overflow="scroll")}function t(){document.querySelectorAll(".burger__btn-close").forEach((function(e){e.addEventListener("click",(function(){n(),burgerList.classList.contains("visible")&&(burgerList.classList.remove("visible"),burgerList.classList.add("hidden"))}))}))}function n(){var e=document.querySelectorAll(".flip"),t=(document.querySelector(".burger__list.visible"),document.querySelectorAll(".header__dropdown-menu.visible")),n=document.querySelectorAll(".burger__list-last.visible");console.log(t),t.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),n.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),e.forEach((function(e){e.classList.remove("flip")}))}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".burger__btn");window.addEventListener("resize",(function(){e(),document.body.style.overflow="scroll"})),document.addEventListener("click",(function(e){var t=document.querySelector(".burger__list");t.contains(e.target)||e.target.classList.contains("burger__btn")||(console.log(e.target),n(),t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll")})),t.addEventListener("click",(function(){!function(){var t=document.querySelector(".burger__list");t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e()):t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll",n())}()}))}));var i=document.querySelectorAll(".cases__btn");document.querySelector(".cases__content").classList.add("is-open"),i.forEach((function(e,t){e.addEventListener("click",(function(){var e=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTrigger+'"]');document.querySelector(".is-open").classList.remove("is-open"),document.querySelector(".is-active").classList.remove("is-active"),e.classList.add("is-open"),this.classList.add("is-active")}))})),new Accordion(".accordion");var o=document.querySelector(".footer__phone"),l=document.querySelector(".footer__mail");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=r(e,"string");return"symbol"===s(t)?t:String(t)}function r(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t,n){u(e,t),t.set(e,n)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function f(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,p(e,t,"get"))}function v(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,p(e,t,"set"),n),n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}o.addEventListener("click",(function(){o.classList.contains("footer__phone_hover")&&o.classList.remove("footer__phone_hover")})),l.addEventListener("click",(function(){l.classList.contains("footer__mail_hover")&&l.classList.remove("footer__mail_hover")}));var m=new WeakMap,h=new WeakMap,_=new WeakMap,y=new WeakMap,w=new WeakMap,k=new WeakMap,L=new WeakMap,g=new WeakSet,E=function(){function e(){var t,n,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(t=this,n=g),n.add(t),d(this,m,{writable:!0,value:void 0}),d(this,h,{writable:!0,value:'<div class="itc-modal-backdrop"><div class="itc-modal-content"><div class="itc-modal-header"><span class="itc-modal-btn-close" title="Закрыть">×</span></div><div class="itc-modal-body">{{content}}</div>{{footer}}</div></div>'}),d(this,_,{writable:!0,value:'<div class="itc-modal-footer">{{buttons}}</div>'}),d(this,y,{writable:!0,value:'<button type="button" class="{{class}}" data-action={{action}}>{{text}}</button>'}),d(this,w,{writable:!0,value:new Event("show.itc.modal",{bubbles:!0})}),d(this,k,{writable:!0,value:new Event("hide.itc.modal",{bubbles:!0})}),d(this,L,{writable:!0,value:!1}),v(this,m,document.createElement("div")),f(this,m).classList.add("itc-modal");var l=f(this,h).replace("{{title}}",o.title||"Новое окно");l=l.replace("{{content}}",o.content||"");var s=(o.footerButtons||[]).map((function(e){var t=f(i,y).replace("{{class}}",e.class);return(t=t.replace("{{action}}",e.action)).replace("{{text}}",e.text)})),c=s.length?f(this,_).replace("{{buttons}}",s.join("")):"";l=l.replace("{{footer}}",c),f(this,m).innerHTML=l,document.body.append(f(this,m)),f(this,m).addEventListener("click",b(this,g,S).bind(this))}var t,n,i;return t=e,(n=[{key:"show",value:function(){f(this,L)||(f(this,m).classList.add("itc-modal-show"),f(this,m).dispatchEvent(f(this,w)))}},{key:"hide",value:function(){f(this,m).classList.remove("itc-modal-show"),f(this,m).dispatchEvent(f(this,k))}},{key:"dispose",value:function(){f(this,m).remove(f(this,m)),f(this,m).removeEventListener("click",b(this,g,S)),v(this,L,!0)}},{key:"setBody",value:function(e){f(this,m).querySelector(".itc-modal-body").innerHTML=e}},{key:"setTitle",value:function(e){f(this,m).querySelector(".itc-modal-title").innerHTML=e}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){(e.target.closest(".itc-modal-btn-close")||e.target.classList.contains("itc-modal-backdrop"))&&this.hide()}var q,P=new E({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Будем рады помочь</h3><form action="" class="callback__form"><label class="callback__label" for="name">Ваше имя</label><input class="callback__input" type="text" name="name" id="name"><label class="callback__label" for="phone">Телефон</label><input class="callback__input" type="tel" name="phone" id="phone"><label class="callback__label" for="message">Комментарий</label><textarea class="callback__input callback__input_text" name="message" id="message" rows="3"></textarea><label class="callback__label callback__label_check" for="agree"><input class="callback__checkbox" type="checkbox" name="agree" id="agree"><span class="callback__span"></span>Нажимая кнопку отправить заявку, даю согласие на обработку персональных данных*</label><button class="callback__btn btn btn-ok">Отправить заявку</button></form></div></div>'}),x=new E({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Спасибо!</h3><div class="callback__label">Мы скоро с Вами свяжемся!</div></div></div>'}),A=document.querySelectorAll(".btn-show-modal"),T=document.querySelectorAll(".btn-ok");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function M(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=r(e,"string");return"symbol"===s(t)?t:String(t)}function r(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}A.forEach((function(e){e.addEventListener("click",(function(){P.show()}))})),T.forEach((function(e){e.addEventListener("click",(function(){P.hide(),x.show()}))}));new Swiper(".cases__swiper",{speed:600,loop:!0,slidesPerView:1,spaceBetween:30,navigation:{nextEl:".cases .swiper-button-next",prevEl:".cases .swiper-button-prev"}}),new Swiper(".hero__swiper",(M(q={speed:1200,loop:!0,slidesPerView:1,spaceBetween:10},"loop",!0),M(q,"effect","slide"),M(q,"autoplay",!0),q)),new Swiper(".clients__swiper",{direction:"horizontal",speed:600,loop:!0,slidesPerView:3,effect:"slide",spaceBetween:20,autoplay:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:32,slidesPerGroup:1},520:{slidesPerView:2,spaceBetween:32,slidesPerGroup:2},820:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:".clients .swiper-button-next",prevEl:".clients .swiper-button-prev"}}),new Swiper(".reviews__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:10,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},780:{slidesPerView:2},1020:{slidesPerView:3}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1cmdlci5qcyIsIm1haW4uanMiLCJtb2RhbC5qcyIsInN3aXBlci5qcyJdLCJuYW1lcyI6WyJpbm5lcldpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYnVyZ2VySXRlbUxpbmsiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXJnZXJMYXN0VHJpZ2dlciIsImZvckVhY2giLCJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW1zIiwibGlzdCIsIm5leHRTaWJsaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwiaXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImJ0bkJhY2siLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlIiwiY2xvc2VBbGxTdWJNZW51Iiwib3BlblN1Yk1lbnUiLCJsaW5rcyIsImRyb3BNZW51IiwibGFzdExpc3QiLCJvcGVuTGFzdE1lbnUiLCJib2R5Iiwib3ZlcmZsb3ciLCJidG4iLCJyZW1vdmVWaXNpYmxlIiwiYnVyZ2VyTGlzdCIsImNvbnRhaW5zIiwiZmxpcEVsZW1lbnRzIiwiZHJvcGRvd25MaXN0IiwiZHJvcGRvd24iLCJlIiwiYnVyZ2VyQnRuIiwiZXZlbnQiLCJ0YXJnZXQiLCJmbGlwQnVyZ2VyTWVudSIsInRhYlRyaWdnZXJCdG5zIiwidGFiVHJpZ2dlckJ0biIsImluZGV4IiwiY3VycmVudFRhYkRhdGEiLCJ0aGlzIiwiZGF0YXNldCIsInRhYlRyaWdnZXIiLCJBY2NvcmRpb24iLCJjb250YWN0UGhvbmUiLCJjb250YWN0TWFpbCIsIkl0Y01vZGFsIiwiX3RoaXMiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2hhbmRsZXJDbG9zZU1vZGFsIiwiX2NsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWMiLCJfZWxlbSIsIndyaXRhYmxlIiwidmFsdWUiLCJfdGVtcGxhdGUiLCJfdGVtcGxhdGVGb290ZXIiLCJfdGVtcGxhdGVCdG4iLCJfZXZlbnRTaG93TW9kYWwiLCJFdmVudCIsImJ1YmJsZXMiLCJfZXZlbnRIaWRlTW9kYWwiLCJfZGlzcG9zZWQiLCJfY2xhc3NQcml2YXRlRmllbGRTZXQiLCJjcmVhdGVFbGVtZW50IiwiX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiaHRtbCIsInJlcGxhY2UiLCJ0aXRsZSIsImNvbnRlbnQiLCJidXR0b25zIiwiZm9vdGVyQnV0dG9ucyIsIm1hcCIsImFjdGlvbiIsInRleHQiLCJmb290ZXIiLCJqb2luIiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwiX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCIsIl9oYW5kbGVyQ2xvc2VNb2RhbDIiLCJiaW5kIiwia2V5IiwiZGlzcGF0Y2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZXN0IiwiaGlkZSIsIm1vZGFsIiwibW9kYWxTdWNjZXNzIiwiYnRuU2hvd01vZGFsIiwiYnRuT2siLCJzaG93IiwiU3dpcGVyIiwic3BlZWQiLCJsb29wIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJfZGVmaW5lUHJvcGVydHkiLCJfU3dpcGVyIiwiZGlyZWN0aW9uIiwiZWZmZWN0IiwiYXV0b3BsYXkiLCJicmVha3BvaW50cyIsInNsaWRlc1Blckdyb3VwIl0sIm1hcHBpbmdzIjoiYUF5Q0EsU0FBU0EsSUFDUEMsUUFBUUMsSUFBSUMsT0FBT0MsWUFDbkIsSUFBTUMsRUFBaUJDLFNBQVNDLGlCQUFpQixpQkFDM0NDLEVBQW9CRixTQUFTQyxpQkFDakMsOEJBR0VKLE9BQU9DLFdBQWEsS0FDdEJDLEVBQWVJLFNBQVEsU0FBQ0MsR0FDdEJBLEVBQUtDLGlCQUFpQixTQUFTLFlBZXJDLFNBQXFCRCxHQUNuQixJQUFNRSxFQUFRTixTQUFTQyxpQkFBaUIsaUJBRWxDTSxFQUFPSCxFQUFLSSxZQUNMLE9BQVRELElBQ0ZBLEVBQUtFLE1BQU1DLFFBQVUsUUFDckJKLEVBQU1ILFNBQVEsU0FBQ1EsR0FDYkEsRUFBS0MsVUFBVUMsSUFBSSxPQUNyQixJQUNBTixFQUFLSyxVQUFVQyxJQUFJLFlBRXJCLElBQU1DLEVBQVVQLEVBQUtRLGNBQWMscUJBQ25DcEIsUUFBUUMsSUFBSWtCLEdBQ1pBLEVBQVFULGlCQUFpQixTQUFTLFdBQ2hDRSxFQUFLRSxNQUFNQyxRQUFVLE9BQ3JCSixFQUFNSCxTQUFRLFNBQUNRLEdBQ2JBLEVBQUtDLFVBQVVJLE9BQU8sT0FDeEIsSUFDQVQsRUFBS0ssVUFBVUksT0FBTyxVQUN4QixJQUNBQyxHQUNGLENBbkNRQyxDQUFZZCxFQUNkLEdBQ0YsSUFDQUYsRUFBa0JDLFNBQVEsU0FBQ0MsR0FDekJBLEVBQUtDLGlCQUFpQixTQUFTLFlBZ0NyQyxTQUFzQkQsR0FDcEIsSUFBTUUsRUFBUU4sU0FBU0MsaUJBQWlCLCtCQUNsQ2tCLEVBQVFuQixTQUFTQyxpQkFDckIsMENBRUltQixFQUFXcEIsU0FBU0MsaUJBQWlCLDBCQUVyQ29CLEVBQVdqQixFQUFLSSxZQUV0QmIsUUFBUUMsSUFBSXlCLEdBQ0ssT0FBYkEsSUFDRkEsRUFBU1osTUFBTUMsUUFBVSxRQUN6QkosRUFBTUgsU0FBUSxTQUFDUSxHQUNiQSxFQUFLQyxVQUFVQyxJQUFJLE9BQ3JCLElBQ0FNLEVBQU1oQixTQUFRLFNBQUNDLEdBQ2JBLEVBQUtRLFVBQVVDLElBQUksT0FDckIsSUFDQU8sRUFBU2pCLFNBQVEsU0FBQ1EsR0FDaEJBLEVBQUtDLFVBQVVDLElBQUksU0FDckIsSUFDQVEsRUFBU1QsVUFBVUMsSUFBSSxZQUV6QixJQUFNQyxFQUFVTyxFQUFTTixjQUFjLHFCQUN2Q3BCLFFBQVFDLElBQUlrQixHQUNaQSxFQUFRVCxpQkFBaUIsU0FBUyxXQUNoQ1YsUUFBUUMsSUFBSVUsR0FDWmUsRUFBU1osTUFBTUMsUUFBVSxPQUN6QlcsRUFBU1QsVUFBVUksT0FBTyxXQUMxQlYsRUFBTUgsU0FBUSxTQUFDUSxHQUNiQSxFQUFLQyxVQUFVSSxPQUFPLE9BQ3hCLElBQ0FHLEVBQU1oQixTQUFRLFNBQUNDLEdBQ2JBLEVBQUtRLFVBQVVJLE9BQU8sT0FDeEIsSUFDQUksRUFBU2pCLFNBQVEsU0FBQ1EsR0FDaEJBLEVBQUtDLFVBQVVJLE9BQU8sU0FDeEIsR0FDRixJQUNBQyxHQUNGLENBdkVRSyxDQUFhbEIsRUFDZixHQUNGLElBRUFKLFNBQVN1QixLQUFLZCxNQUFNZSxTQUFXLFVBQ3RCM0IsT0FBT0MsV0FBYSxNQUM3QkUsU0FBU3VCLEtBQUtkLE1BQU1lLFNBQVcsU0FFbkMsQ0FnRUEsU0FBU1AsSUFDVWpCLFNBQVNDLGlCQUFpQixzQkFDbENFLFNBQVEsU0FBQ3NCLEdBQ2hCQSxFQUFJcEIsaUJBQWlCLFNBQVMsV0FDNUJxQixJQUNJQyxXQUFXZixVQUFVZ0IsU0FBUyxhQUNoQ0QsV0FBV2YsVUFBVUksT0FBTyxXQUM1QlcsV0FBV2YsVUFBVUMsSUFBSSxVQUU3QixHQUNGLEdBQ0YsQ0FDQSxTQUFTYSxJQUNQLElBQU1HLEVBQWU3QixTQUFTQyxpQkFBaUIsU0FFekM2QixHQURhOUIsU0FBU2UsY0FBYyx5QkFDckJmLFNBQVNDLGlCQUM1QixtQ0FFSW9CLEVBQVdyQixTQUFTQyxpQkFBaUIsOEJBQzNDTixRQUFRQyxJQUFJa0MsR0FDWkEsRUFBYTNCLFNBQVEsU0FBQzRCLEdBQ3BCQSxFQUFTbkIsVUFBVUksT0FBTyxXQUMxQmUsRUFBU3RCLE1BQU1DLFFBQVUsTUFDM0IsSUFDQVcsRUFBU2xCLFNBQVEsU0FBQ0ksR0FDaEJBLEVBQUtLLFVBQVVJLE9BQU8sV0FDdEJULEVBQUtFLE1BQU1DLFFBQVUsTUFDdkIsSUFDQW1CLEVBQWExQixTQUFRLFNBQUM2QixHQUNwQkEsRUFBRXBCLFVBQVVJLE9BQU8sT0FDckIsR0FDRixDQS9KQWhCLFNBQVNLLGlCQUFpQixvQkFBb0IsV0FDNUMsSUFBTTRCLEVBQVlqQyxTQUFTZSxjQUFjLGdCQUN6Q2xCLE9BQU9RLGlCQUFpQixVQUFVLFdBQ2hDWCxJQUNBTSxTQUFTdUIsS0FBS2QsTUFBTWUsU0FBVyxRQUNqQyxJQUNBeEIsU0FBU0ssaUJBQWlCLFNBQVMsU0FBVTZCLEdBQzNDLElBQU1QLEVBQWEzQixTQUFTZSxjQUFjLGlCQUV2Q1ksRUFBV0MsU0FBU00sRUFBTUMsU0FDMUJELEVBQU1DLE9BQU92QixVQUFVZ0IsU0FBUyxpQkFFakNqQyxRQUFRQyxJQUFJc0MsRUFBTUMsUUFDbEJULElBQ0FDLEVBQVdmLFVBQVVJLE9BQU8sV0FDNUJXLEVBQVdmLFVBQVVDLElBQUksVUFDekJiLFNBQVN1QixLQUFLZCxNQUFNZSxTQUFXLFNBSW5DLElBRUFTLEVBQVU1QixpQkFBaUIsU0FBUyxZQUt0QyxXQUNFLElBQU1zQixFQUFhM0IsU0FBU2UsY0FBYyxpQkFDdENZLEVBQVdmLFVBQVVnQixTQUFTLFdBQ2hDRCxFQUFXZixVQUFVSSxPQUFPLFVBQzVCVyxFQUFXZixVQUFVQyxJQUFJLFdBQ3pCbkIsS0FDU2lDLEVBQVdmLFVBQVVnQixTQUFTLGFBQ3ZDRCxFQUFXZixVQUFVSSxPQUFPLFdBQzVCVyxFQUFXZixVQUFVQyxJQUFJLFVBQ3pCYixTQUFTdUIsS0FBS2QsTUFBTWUsU0FBVyxTQUMvQkUsSUFHSixDQWpCSVUsRUFDRixHQUNGLElDNkpBLElBQU1DLEVBQWlCckMsU0FBU0MsaUJBQWlCLGVBQzVCRCxTQUFTZSxjQUFjLG1CQUMvQkgsVUFBVUMsSUFBSSxXQUMzQndCLEVBQWVsQyxTQUFRLFNBQVVtQyxFQUFlQyxHQUM5Q0QsRUFBY2pDLGlCQUFpQixTQUFTLFdBQ3RDLElBQU1tQyxFQUFpQnhDLFNBQVNlLGNBQzlCLHFDQUF1QzBCLEtBQUtDLFFBQVFDLFdBQWEsTUFFbkUzQyxTQUFTZSxjQUFjLFlBQVlILFVBQVVJLE9BQU8sV0FDcERoQixTQUFTZSxjQUFjLGNBQWNILFVBQVVJLE9BQU8sYUFDdER3QixFQUFlNUIsVUFBVUMsSUFBSSxXQUM3QjRCLEtBQUs3QixVQUFVQyxJQUFJLFlBQ3JCLEdBQ0YsSUFJQSxJQUFJK0IsVUFBVSxjQUdkLElBQU1DLEVBQWU3QyxTQUFTZSxjQUFjLGtCQUN0QytCLEVBQWM5QyxTQUFTZSxjQUFjLGlCLDIyQ0FDM0M4QixFQUFheEMsaUJBQWlCLFNBQVMsV0FDakN3QyxFQUFhakMsVUFBVWdCLFNBQVMsd0JBQ2xDaUIsRUFBYWpDLFVBQVVJLE9BQU8sc0JBRWxDLElBQ0E4QixFQUFZekMsaUJBQWlCLFNBQVMsV0FDaEN5QyxFQUFZbEMsVUFBVWdCLFNBQVMsdUJBQ2pDa0IsRUFBWWxDLFVBQVVJLE9BQU8scUJBRWpDLEksb0hDck5NK0IsRUFBUSxXQVdaLFNBQUFBLElBQTBCLEksSUFBQUMsRUFBQVAsS0FBZFEsRUFBT0MsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBRyxJLDRGQUFFRyxDQUFBWixLQUFBTSxHLElBQUFOLEssRUFBQWEsRyxTQUFBQyxFQUFBZCxLQUFBZSxFQUFBLENBQUFDLFVBQUEsRUFBQUMsV0FBQSxJQUFBSCxFQUFBZCxLQUFBa0IsRUFBQSxDQUFBRixVQUFBLEVBQUFDLE1BUnRCLHFPQUFrT0gsRUFBQWQsS0FBQW1CLEVBQUEsQ0FBQUgsVUFBQSxFQUFBQyxNQUNsTixvREFBaURILEVBQUFkLEtBQUFvQixFQUFBLENBQUFKLFVBQUEsRUFBQUMsTUFFakUscUZBQWtGSCxFQUFBZCxLQUFBcUIsRUFBQSxDQUFBTCxVQUFBLEVBQUFDLE1BQ2xFLElBQUlLLE1BQU0saUJBQWtCLENBQUVDLFNBQVMsTUFBT1QsRUFBQWQsS0FBQXdCLEVBQUEsQ0FBQVIsVUFBQSxFQUFBQyxNQUM5QyxJQUFJSyxNQUFNLGlCQUFrQixDQUFFQyxTQUFTLE1BQU9ULEVBQUFkLEtBQUF5QixFQUFBLENBQUFULFVBQUEsRUFBQUMsT0FDcEQsSUFHVlMsRUFBQTFCLEtBQUllLEVBQVN4RCxTQUFTb0UsY0FBYyxRQUNwQ0MsRUFBQTVCLEtBQUllLEdBQU81QyxVQUFVQyxJQUFJLGFBQ3pCLElBQUl5RCxFQUFPRCxFQUFBNUIsS0FBSWtCLEdBQVdZLFFBQ3hCLFlBQ0F0QixFQUFRdUIsT0FBUyxjQUVuQkYsRUFBT0EsRUFBS0MsUUFBUSxjQUFldEIsRUFBUXdCLFNBQVcsSUFDdEQsSUFBTUMsR0FBV3pCLEVBQVEwQixlQUFpQixJQUFJQyxLQUFJLFNBQUNqRSxHQUNqRCxJQUFJYyxFQUFNNEMsRUFBQXJCLEVBQUlhLEdBQWNVLFFBQVEsWUFBYTVELEVBQUksT0FFckQsT0FEQWMsRUFBTUEsRUFBSThDLFFBQVEsYUFBYzVELEVBQUtrRSxTQUMxQk4sUUFBUSxXQUFZNUQsRUFBS21FLEtBQ3RDLElBQ01DLEVBQVNMLEVBQVF2QixPQUNuQmtCLEVBQUE1QixLQUFJbUIsR0FBaUJXLFFBQVEsY0FBZUcsRUFBUU0sS0FBSyxLQUN6RCxHQUNKVixFQUFPQSxFQUFLQyxRQUFRLGFBQWNRLEdBQ2xDVixFQUFBNUIsS0FBSWUsR0FBT3lCLFVBQVlYLEVBQ3ZCdEUsU0FBU3VCLEtBQUsyRCxPQUFNYixFQUFDNUIsS0FBSWUsSUFDekJhLEVBQUE1QixLQUFJZSxHQUFPbkQsaUJBQWlCLFFBQVM4RSxFQUFBMUMsS0FBSWEsRUFBQThCLEdBQW9CQyxLQUFLNUMsTUFDcEUsQyxVQW9DQyxPLEVBcENBTSxHLEVBQUEsRUFBQXVDLElBQUEsT0FBQTVCLE1BV0QsV0FDRVcsRUFBSTVCLEtBQUl5QixLQUdSRyxFQUFBNUIsS0FBSWUsR0FBTzVDLFVBQVVDLElBQUksa0JBQ3pCd0QsRUFBQTVCLEtBQUllLEdBQU8rQixjQUFhbEIsRUFBQzVCLEtBQUlxQixJQUMvQixHQUFDLENBQUF3QixJQUFBLE9BQUE1QixNQUVELFdBQ0VXLEVBQUE1QixLQUFJZSxHQUFPNUMsVUFBVUksT0FBTyxrQkFDNUJxRCxFQUFBNUIsS0FBSWUsR0FBTytCLGNBQWFsQixFQUFDNUIsS0FBSXdCLEdBQy9CLEdBQUMsQ0FBQXFCLElBQUEsVUFBQTVCLE1BRUQsV0FDRVcsRUFBQTVCLEtBQUllLEdBQU94QyxPQUFNcUQsRUFBQzVCLEtBQUllLElBQ3RCYSxFQUFBNUIsS0FBSWUsR0FBT2dDLG9CQUFvQixRQUFPTCxFQUFFMUMsS0FBSWEsRUFBQThCLElBQzVDakIsRUFBQTFCLEtBQUl5QixHQUFhLEVBQ25CLEdBQUMsQ0FBQW9CLElBQUEsVUFBQTVCLE1BRUQsU0FBUVksR0FDTkQsRUFBQTVCLEtBQUllLEdBQU96QyxjQUFjLG1CQUFtQmtFLFVBQVlYLENBQzFELEdBQUMsQ0FBQWdCLElBQUEsV0FBQTVCLE1BRUQsU0FBU29CLEdBQ1BULEVBQUE1QixLQUFJZSxHQUFPekMsY0FBYyxvQkFBb0JrRSxVQUFZSCxDQUMzRCxNLDhFQUFDL0IsQ0FBQSxDQW5FVyxHQW1FWCxTQUFBcUMsRUFsQ2tCcEQsSUFFZkEsRUFBRUcsT0FBT3NELFFBQVEseUJBQ2pCekQsRUFBRUcsT0FBT3ZCLFVBQVVnQixTQUFTLHdCQUU1QmEsS0FBS2lELE1BRVQsQ0E4QkYsSSxFQUFNQyxFQUFRLElBQUk1QyxFQUFTLENBRXpCMEIsUUFDRSwrNkJBTUVtQixFQUFlLElBQUk3QyxFQUFTLENBQ2hDMEIsUUFDRSw4TUFHRW9CLEVBQWU3RixTQUFTQyxpQkFBaUIsbUJBQ3pDNkYsRUFBUTlGLFNBQVNDLGlCQUFpQixXLDJxQkFDeEM0RixFQUFhMUYsU0FBUSxTQUFDc0IsR0FDcEJBLEVBQUlwQixpQkFBaUIsU0FBUyxXQUM1QnNGLEVBQU1JLE1BQ1IsR0FDRixJQUNBRCxFQUFNM0YsU0FBUSxTQUFDc0IsR0FDYkEsRUFBSXBCLGlCQUFpQixTQUFTLFdBQzVCc0YsRUFBTUQsT0FDTkUsRUFBYUcsTUFDZixHQUNGLElDaEdvQixJQUFJQyxPQUFPLGlCQUFrQixDQUMvQ0MsTUFBTyxJQUNQQyxNQUFNLEVBQ05DLGNBQWUsRUFDZkMsYUFBYyxHQUVkQyxXQUFZLENBQ1ZDLE9BQVEsNkJBQ1JDLE9BQVEsZ0NBR08sSUFBSVAsT0FBTyxpQkFJWlEsRUFKMkJDLEVBQUEsQ0FDM0NSLE1BQU8sS0FDUEMsTUFBTSxFQUNOQyxjQUFlLEVBQ2ZDLGFBQWMsSUFBRSxRQUNWLEdBQUlJLEVBQUFDLEVBQUEsU0FDRixTQUFPRCxFQUFBQyxFQUFBLFlBQ0wsR0FBSUEsSUFFTSxJQUFJVCxPQUFPLG1CQUFvQixDQUNuRFUsVUFBVyxhQUNYVCxNQUFPLElBQ1BDLE1BQU0sRUFDTkMsY0FBZSxFQUNmUSxPQUFRLFFBQ1JQLGFBQWMsR0FDZFEsVUFBVSxFQUNWQyxZQUFhLENBQ1gsSUFBSyxDQUNIVixjQUFlLEVBQ2ZDLGFBQWMsR0FDZFUsZUFBZ0IsR0FFbEIsSUFBSyxDQUNIWCxjQUFlLEVBQ2ZDLGFBQWMsR0FDZFUsZUFBZ0IsR0FFbEIsSUFBSyxDQUNIWCxjQUFlLEVBQ2ZDLGFBQWMsS0FHbEJDLFdBQVksQ0FDVkMsT0FBUSwrQkFDUkMsT0FBUSxrQ0FHVSxJQUFJUCxPQUFPLG1CQUFvQixDQUNuRFUsVUFBVyxhQUVYUixNQUFNLEVBQ05DLGNBQWUsRUFDZlEsT0FBUSxRQUNSUCxhQUFjLEdBRWRTLFlBQWEsQ0FDWCxJQUFLLENBQ0hWLGNBQWUsRUFFZlcsZUFBZ0IsR0FFbEIsSUFBSyxDQUNIWCxjQUFlLEdBSWpCLEtBQU0sQ0FDSkEsY0FBZSxJQUtuQkUsV0FBWSxDQUNWQyxPQUFRLCtCQUNSQyxPQUFRIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fYnRuXCIpO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgIGlubmVyV2luZG93KCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICB9KTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCBidXJnZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2xpc3RcIik7XHJcbiAgICBpZiAoXHJcbiAgICAgICFidXJnZXJMaXN0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiZcclxuICAgICAgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJnZXJfX2J0blwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgIHJlbW92ZVZpc2libGUoKTtcclxuICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuXHJcbiAgICAgIC8vICAgZmxpcEJ1cmdlck1lbnUoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBmbGlwQnVyZ2VyTWVudSgpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGZsaXBCdXJnZXJNZW51KCkge1xyXG4gIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdFwiKTtcclxuICBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICBpbm5lcldpbmRvdygpO1xyXG4gIH0gZWxzZSBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XHJcbiAgICByZW1vdmVWaXNpYmxlKCk7XHJcbiAgICAvLyBpbm5lcldpbmRvdygpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBpbm5lcldpbmRvdygpIHtcclxuICBjb25zb2xlLmxvZyh3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgY29uc3QgYnVyZ2VySXRlbUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fbGlua1wiKTtcclxuICBjb25zdCBidXJnZXJMYXN0VHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5idXJnZXJfX2xpbmstbGFzdC10cmlnZ2VyXCJcclxuICApO1xyXG5cclxuICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3ODApIHtcclxuICAgIGJ1cmdlckl0ZW1MaW5rLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG9wZW5TdWJNZW51KGxpbmspO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgYnVyZ2VyTGFzdFRyaWdnZXIuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgb3Blbkxhc3RNZW51KGxpbmspO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPiA3ODApIHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBvcGVuU3ViTWVudShsaW5rKSB7XHJcbiAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9faXRlbVwiKTtcclxuXHJcbiAgY29uc3QgbGlzdCA9IGxpbmsubmV4dFNpYmxpbmc7XHJcbiAgaWYgKGxpc3QgIT09IG51bGwpIHtcclxuICAgIGxpc3Quc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICB9XHJcbiAgY29uc3QgYnRuQmFjayA9IGxpc3QucXVlcnlTZWxlY3RvcihcIi5idXJnZXJfX2J0bi1iYWNrXCIpO1xyXG4gIGNvbnNvbGUubG9nKGJ0bkJhY2spO1xyXG4gIGJ0bkJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGxpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gIH0pO1xyXG4gIGNsb3NlQWxsU3ViTWVudSgpO1xyXG59XHJcbmZ1bmN0aW9uIG9wZW5MYXN0TWVudShsaW5rKSB7XHJcbiAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fZHJvcGRvd24tbWVudSA+IGxpXCIpO1xyXG4gIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgIFwiLmhlYWRlcl9fZHJvcGRvd24tbWVudSA+IC5oZWFkZXJfX2xpbmtcIlxyXG4gICk7XHJcbiAgY29uc3QgZHJvcE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fZHJvcGRvd24tbWVudVwiKTtcclxuXHJcbiAgY29uc3QgbGFzdExpc3QgPSBsaW5rLm5leHRTaWJsaW5nO1xyXG5cclxuICBjb25zb2xlLmxvZyhsYXN0TGlzdCk7XHJcbiAgaWYgKGxhc3RMaXN0ICE9PSBudWxsKSB7XHJcbiAgICBsYXN0TGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGRyb3BNZW51LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsYXN0TGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICB9XHJcbiAgY29uc3QgYnRuQmFjayA9IGxhc3RMaXN0LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG4tYmFja1wiKTtcclxuICBjb25zb2xlLmxvZyhidG5CYWNrKTtcclxuICBidG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhpdGVtcyk7XHJcbiAgICBsYXN0TGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBsYXN0TGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBkcm9wTWVudS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGNsb3NlQWxsU3ViTWVudSgpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQWxsU3ViTWVudSgpIHtcclxuICBjb25zdCBidG5DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19idG4tY2xvc2VcIik7XHJcbiAgYnRuQ2xvc2UuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcmVtb3ZlVmlzaWJsZSgpO1xyXG4gICAgICBpZiAoYnVyZ2VyTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVZpc2libGUoKSB7XHJcbiAgY29uc3QgZmxpcEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGlwXCIpO1xyXG4gIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdC52aXNpYmxlXCIpO1xyXG4gIGNvbnN0IGRyb3Bkb3duTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUudmlzaWJsZVwiXHJcbiAgKTtcclxuICBjb25zdCBsYXN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19saXN0LWxhc3QudmlzaWJsZVwiKTtcclxuICBjb25zb2xlLmxvZyhkcm9wZG93bkxpc3QpO1xyXG4gIGRyb3Bkb3duTGlzdC5mb3JFYWNoKChkcm9wZG93bikgPT4ge1xyXG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfSk7XHJcbiAgbGFzdExpc3QuZm9yRWFjaCgobGlzdCkgPT4ge1xyXG4gICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgIGxpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG4gIGZsaXBFbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICBlLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8vIEJ1cmdlciBtZW51XHJcbi8vIGNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG5cIik7XHJcbi8vIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdFwiKTtcclxuLy8gY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9faXRlbVwiKTtcclxuLy8gY29uc3QgZHJvcGRvd25zID0gYnVyZ2VyTGlzdC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fZHJvcGRvd24tbWVudVwiKTtcclxuLy8gY29uc3QgYnVyZ2VyQmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19idG4tYmFja1wiKTtcclxuLy8gY29uc3QgYnVyZ2VyQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYnRuLWNsb3NlXCIpO1xyXG4vLyBjb25zdCBidXJnZXJJdGVtTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19saW5rXCIpO1xyXG4vLyBjb25zdCBidXJnZXJMYXN0VHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbi8vICAgXCIuYnVyZ2VyX19saW5rLWxhc3QtdHJpZ2dlclwiXHJcbi8vICk7XHJcblxyXG4vLyBmdW5jdGlvbiBpbm5lcldpbmRvdygpIHtcclxuLy8gICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3ODApIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKTtcclxuLy8gICAgIHNldEZsaXAoKTtcclxuLy8gICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNzgwKSB7XHJcbi8vICAgICBidXJnZXJUcmlnZ2VyKCk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuLy8gICB9XHJcblxyXG4vLyAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuLy8gICAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKTtcclxuLy8gICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc4MCkge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbi8vICAgICAgIHNldEZsaXAoKTtcclxuLy8gICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPiA3ODApIHtcclxuLy8gICAgICAgYnVyZ2VyVHJpZ2dlcigpO1xyXG4vLyAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuLy8gfVxyXG4vLyBpbm5lcldpbmRvdygpO1xyXG4vLyBmdW5jdGlvbiBidXJnZXJUcmlnZ2VyKCkge1xyXG4vLyAgIGJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbi8vICAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuLy8gICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuLy8gICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbi8vICAgICB9IGVsc2UgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkge1xyXG4vLyAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4vLyAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbi8vICAgICAgIGNvbnN0IGZsaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGlwXCIpO1xyXG4vLyAgICAgICBpZiAoZmxpcHMgIT09IG51bGwpIHtcclxuLy8gICAgICAgICBmbGlwcy5mb3JFYWNoKChmbGlwKSA9PiB7XHJcbi8vICAgICAgICAgICBmbGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKGRyb3Bkb3ducyk7XHJcbi8vICAgICAgIGlmIChkcm9wZG93bnMgIT09IG51bGwpIHtcclxuLy8gICAgICAgICBkcm9wZG93bnMuZm9yRWFjaCgoZHJvcGRvd24pID0+IHtcclxuLy8gICAgICAgICAgIGlmIChkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbi8vICAgICAgICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4vLyAgICAgICAgICAgICAvLyBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgY29uc3QgYnVyZ2VyTGFzdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fbGlzdC1sYXN0XCIpO1xyXG4vLyAgICAgY29uc29sZS5sb2coYnVyZ2VyTGFzdExpc3QpO1xyXG4vLyAgICAgYnVyZ2VyTGFzdExpc3QuZm9yRWFjaCgoYnVyZ2VyKSA9PiB7XHJcbi8vICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1cmdlcik7XHJcbi8vICAgICAgIGlmIChidXJnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkge1xyXG4vLyAgICAgICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuLy8gICAgICAgICAvLyBidXJnZXIuY2xhc3NMaXN0LmFkZChcImhpZFwiKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgfSk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gc2V0RmxpcCgpIHtcclxuLy8gICBjb25zb2xlLmxvZyhidXJnZXJMYXN0VHJpZ2dlcik7XHJcblxyXG4vLyAgIC8vIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuLy8gICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgIGlmIChidXJnZXJMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4vLyAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbi8vICAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbi8vICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4vLyAgICAgfSBlbHNlIGlmIChidXJnZXJMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikpIHtcclxuLy8gICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuLy8gICAgICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4vLyAgICAgICBjb25zdCBmbGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmxpcFwiKTtcclxuLy8gICAgICAgaWYgKGZsaXBzICE9PSBudWxsKSB7XHJcbi8vICAgICAgICAgZmxpcHMuZm9yRWFjaCgoZmxpcCkgPT4ge1xyXG4vLyAgICAgICAgICAgZmxpcC5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuLy8gICAgIH1cclxuLy8gICAgIGNvbnN0IGJ1cmdlckxhc3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2xpc3QtbGFzdFwiKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGJ1cmdlckxhc3RMaXN0KTtcclxuLy8gICAgIGJ1cmdlckxhc3RMaXN0LmZvckVhY2goKGJ1cmdlcikgPT4ge1xyXG4vLyAgICAgICBpZiAoYnVyZ2VyLmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikpIHtcclxuLy8gICAgICAgICBidXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyAgIH0pO1xyXG4vLyAgIGJ1cmdlckJhY2suZm9yRWFjaCgoZSkgPT4ge1xyXG4vLyAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICBkcm9wZG93bnMuZm9yRWFjaCgoZSkgPT4ge1xyXG4vLyAgICAgICAgIGlmIChlLmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikpIHtcclxuLy8gICAgICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbi8vICAgICAgICAgICBlLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9KTtcclxuLy8gICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4vLyAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICBjb25zdCBmbGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmxpcFwiKTtcclxuLy8gICAgICAgZmxpcHMuZm9yRWFjaCgoZmxpcCkgPT4ge1xyXG4vLyAgICAgICAgIGZsaXAuY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfSk7XHJcbi8vICAgYnVyZ2VyQ2xvc2UuZm9yRWFjaCgoZSkgPT4ge1xyXG4vLyAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuLy8gICAgICAgaWYgKGJ1cmdlckxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkge1xyXG4vLyAgICAgICAgIGRyb3Bkb3ducy5mb3JFYWNoKChlKSA9PiB7XHJcbi8vICAgICAgICAgICBpZiAoZS5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpKSB7XHJcbi8vICAgICAgICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbi8vICAgICAgICAgICAgIGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuLy8gICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbi8vICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIGNvbnN0IGZsaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGlwXCIpO1xyXG4vLyAgICAgICAgIGZsaXBzLmZvckVhY2goKGZsaXApID0+IHtcclxuLy8gICAgICAgICAgIGZsaXAuY2xhc3NMaXN0LnJlbW92ZShcImZsaXBcIik7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuLy8gICAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4vLyAgICAgICAgIC8vIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc4MCkge1xyXG4vLyAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4vLyAgICAgICAgIC8vIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgfSk7XHJcblxyXG4vLyAgIGxldCBsaXN0O1xyXG4vLyAgIGJ1cmdlckl0ZW1MaW5rLmZvckVhY2goKGUpID0+IHtcclxuLy8gICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgICAgbGlzdCA9IGUubmV4dFNpYmxpbmc7XHJcbi8vICAgICAgIGlmIChsaXN0ICE9PSBudWxsKSB7XHJcbi8vICAgICAgICAgbGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4vLyAgICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuLy8gICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgfSk7XHJcbi8vICAgYnVyZ2VyTGFzdFRyaWdnZXIuZm9yRWFjaCgoZSkgPT4ge1xyXG4vLyAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICBjb25zdCBsYXN0TGlzdCA9IGUubmV4dFNpYmxpbmc7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKGxhc3RMaXN0KTtcclxuLy8gICAgICAgY29uc29sZS5sb2cobGlzdCk7XHJcbi8vICAgICAgIGlmIChsYXN0TGlzdCAhPT0gbnVsbCkge1xyXG4vLyAgICAgICAgIGxhc3RMaXN0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbi8vICAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4vLyAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiZmxpcFwiKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICBjb25zdCBkcm9wSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4vLyAgICAgICAgICAgLy8gXCIuaGVhZGVyX19kcm9wLWl0ZW1cIlxyXG4vLyAgICAgICAgICAgXCIuaGVhZGVyX19kcm9wLWl0ZW0gPiAuaGVhZGVyX19saW5rXCJcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIC8vIGxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyhkcm9wSXRlbXMpO1xyXG4vLyAgICAgICAgIGRyb3BJdGVtcy5mb3JFYWNoKChlKSA9PiB7XHJcbi8vICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuLy8gICAgICAgICAgIGUuY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgbGFzdExpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyAgIH0pO1xyXG4vLyB9XHJcblxyXG4vLyBUYWJzXHJcblxyXG5jb25zdCB0YWJUcmlnZ2VyQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FzZXNfX2J0blwiKTtcclxuY29uc3QgY2FzZXNUYWJPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlc19fY29udGVudFwiKTtcclxuY2FzZXNUYWJPcGVuLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpO1xyXG50YWJUcmlnZ2VyQnRucy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJUcmlnZ2VyQnRuLCBpbmRleCkge1xyXG4gIHRhYlRyaWdnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRUYWJEYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy5jYXNlc19fY29udGVudFtkYXRhLXRhYi1jb250ZW50PVwiJyArIHRoaXMuZGF0YXNldC50YWJUcmlnZ2VyICsgJ1wiXSdcclxuICAgICk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLWFjdGl2ZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgY3VycmVudFRhYkRhdGEuY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gYWNjb3JkaW9uXHJcblxyXG5uZXcgQWNjb3JkaW9uKFwiLmFjY29yZGlvblwiKTtcclxuXHJcbi8vIHNob3cgY29udGFjdHNcclxuY29uc3QgY29udGFjdFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX3Bob25lXCIpO1xyXG5jb25zdCBjb250YWN0TWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19tYWlsXCIpO1xyXG5jb250YWN0UGhvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBpZiAoY29udGFjdFBob25lLmNsYXNzTGlzdC5jb250YWlucyhcImZvb3Rlcl9fcGhvbmVfaG92ZXJcIikpIHtcclxuICAgIGNvbnRhY3RQaG9uZS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9vdGVyX19waG9uZV9ob3ZlclwiKTtcclxuICB9XHJcbn0pO1xyXG5jb250YWN0TWFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGlmIChjb250YWN0TWFpbC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb290ZXJfX21haWxfaG92ZXJcIikpIHtcclxuICAgIGNvbnRhY3RNYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb290ZXJfX21haWxfaG92ZXJcIik7XHJcbiAgfVxyXG59KTtcclxuIiwiY2xhc3MgSXRjTW9kYWwge1xyXG4gICNlbGVtO1xyXG4gICN0ZW1wbGF0ZSA9XHJcbiAgICAnPGRpdiBjbGFzcz1cIml0Yy1tb2RhbC1iYWNrZHJvcFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtY29udGVudFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtaGVhZGVyXCI+PHNwYW4gY2xhc3M9XCJpdGMtbW9kYWwtYnRuLWNsb3NlXCIgdGl0bGU9XCLQl9Cw0LrRgNGL0YLRjFwiPsOXPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtYm9keVwiPnt7Y29udGVudH19PC9kaXY+e3tmb290ZXJ9fTwvZGl2PjwvZGl2Pic7XHJcbiAgI3RlbXBsYXRlRm9vdGVyID0gJzxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtZm9vdGVyXCI+e3tidXR0b25zfX08L2Rpdj4nO1xyXG4gICN0ZW1wbGF0ZUJ0biA9XHJcbiAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ7e2NsYXNzfX1cIiBkYXRhLWFjdGlvbj17e2FjdGlvbn19Pnt7dGV4dH19PC9idXR0b24+JztcclxuICAjZXZlbnRTaG93TW9kYWwgPSBuZXcgRXZlbnQoXCJzaG93Lml0Yy5tb2RhbFwiLCB7IGJ1YmJsZXM6IHRydWUgfSk7XHJcbiAgI2V2ZW50SGlkZU1vZGFsID0gbmV3IEV2ZW50KFwiaGlkZS5pdGMubW9kYWxcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xyXG4gICNkaXNwb3NlZCA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0gW10pIHtcclxuICAgIHRoaXMuI2VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5jbGFzc0xpc3QuYWRkKFwiaXRjLW1vZGFsXCIpO1xyXG4gICAgbGV0IGh0bWwgPSB0aGlzLiN0ZW1wbGF0ZS5yZXBsYWNlKFxyXG4gICAgICBcInt7dGl0bGV9fVwiLFxyXG4gICAgICBvcHRpb25zLnRpdGxlIHx8IFwi0J3QvtCy0L7QtSDQvtC60L3QvlwiXHJcbiAgICApO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Y29udGVudH19XCIsIG9wdGlvbnMuY29udGVudCB8fCBcIlwiKTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSAob3B0aW9ucy5mb290ZXJCdXR0b25zIHx8IFtdKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgbGV0IGJ0biA9IHRoaXMuI3RlbXBsYXRlQnRuLnJlcGxhY2UoXCJ7e2NsYXNzfX1cIiwgaXRlbS5jbGFzcyk7XHJcbiAgICAgIGJ0biA9IGJ0bi5yZXBsYWNlKFwie3thY3Rpb259fVwiLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgIHJldHVybiBidG4ucmVwbGFjZShcInt7dGV4dH19XCIsIGl0ZW0udGV4dCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGZvb3RlciA9IGJ1dHRvbnMubGVuZ3RoXHJcbiAgICAgID8gdGhpcy4jdGVtcGxhdGVGb290ZXIucmVwbGFjZShcInt7YnV0dG9uc319XCIsIGJ1dHRvbnMuam9pbihcIlwiKSlcclxuICAgICAgOiBcIlwiO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Zm9vdGVyfX1cIiwgZm9vdGVyKTtcclxuICAgIHRoaXMuI2VsZW0uaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuI2VsZW0pO1xyXG4gICAgdGhpcy4jZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jaGFuZGxlckNsb3NlTW9kYWwuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAjaGFuZGxlckNsb3NlTW9kYWwoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiLml0Yy1tb2RhbC1idG4tY2xvc2VcIikgfHxcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRjLW1vZGFsLWJhY2tkcm9wXCIpXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93KCkge1xyXG4gICAgaWYgKHRoaXMuI2Rpc3Bvc2VkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuI2VsZW0uY2xhc3NMaXN0LmFkZChcIml0Yy1tb2RhbC1zaG93XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5kaXNwYXRjaEV2ZW50KHRoaXMuI2V2ZW50U2hvd01vZGFsKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLiNlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGMtbW9kYWwtc2hvd1wiKTtcclxuICAgIHRoaXMuI2VsZW0uZGlzcGF0Y2hFdmVudCh0aGlzLiNldmVudEhpZGVNb2RhbCk7XHJcbiAgfVxyXG5cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy4jZWxlbS5yZW1vdmUodGhpcy4jZWxlbSk7XHJcbiAgICB0aGlzLiNlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLiNoYW5kbGVyQ2xvc2VNb2RhbCk7XHJcbiAgICB0aGlzLiNkaXNwb3NlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBzZXRCb2R5KGh0bWwpIHtcclxuICAgIHRoaXMuI2VsZW0ucXVlcnlTZWxlY3RvcihcIi5pdGMtbW9kYWwtYm9keVwiKS5pbm5lckhUTUwgPSBodG1sO1xyXG4gIH1cclxuXHJcbiAgc2V0VGl0bGUodGV4dCkge1xyXG4gICAgdGhpcy4jZWxlbS5xdWVyeVNlbGVjdG9yKFwiLml0Yy1tb2RhbC10aXRsZVwiKS5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbW9kYWwgPSBuZXcgSXRjTW9kYWwoe1xyXG4gIC8vICAgdGl0bGU6IFwi0JfQsNCz0L7Qu9C+0LLQvtC6XCIsXHJcbiAgY29udGVudDpcclxuICAgICc8ZGl2IGNsYXNzPVwiY2FsbGJhY2sgY2FsbGJhY2tfX21vZGFsXCI+PGRpdiBjbGFzcz1cImNhbGxiYWNrX19ibG9jayBjYWxsYmFja19fYmxvY2tfMlwiPjxoMyBjbGFzcz1cImNhbGxiYWNrX19zdWJ0aXRsZVwiPtCR0YPQtNC10Lwg0YDQsNC00Ysg0L/QvtC80L7Rh9GMPC9oMz48Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImNhbGxiYWNrX19mb3JtXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibmFtZVwiPtCS0LDRiNC1INC40LzRjzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiY2FsbGJhY2tfX2lucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIGlkPVwibmFtZVwiPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbFwiIGZvcj1cInBob25lXCI+0KLQtdC70LXRhNC+0L08L2xhYmVsPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19pbnB1dFwiIHR5cGU9XCJ0ZWxcIiBuYW1lPVwicGhvbmVcIiBpZD1cInBob25lXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibWVzc2FnZVwiPtCa0L7QvNC80LXQvdGC0LDRgNC40Lk8L2xhYmVsPjx0ZXh0YXJlYSBjbGFzcz1cImNhbGxiYWNrX19pbnB1dCBjYWxsYmFja19faW5wdXRfdGV4dFwiIG5hbWU9XCJtZXNzYWdlXCIgaWQ9XCJtZXNzYWdlXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbCBjYWxsYmFja19fbGFiZWxfY2hlY2tcIiBmb3I9XCJhZ3JlZVwiPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJhZ3JlZVwiIGlkPVwiYWdyZWVcIj48c3BhbiBjbGFzcz1cImNhbGxiYWNrX19zcGFuXCI+PC9zcGFuPtCd0LDQttC40LzQsNGPINC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDLCDQtNCw0Y7CoNGB0L7Qs9C70LDRgdC40LUg0L3QsMKg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUqPC9sYWJlbD48YnV0dG9uIGNsYXNzPVwiY2FsbGJhY2tfX2J0biBidG4gYnRuLW9rXCI+0J7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPjwvZm9ybT48L2Rpdj48L2Rpdj4nLFxyXG4gIC8vICAgZm9vdGVyQnV0dG9uczogW1xyXG4gIC8vICAgICB7IGNsYXNzOiBcImJ0biBidG4tY2xvc2VcIiwgdGV4dDogXCLQl9Cw0LrRgNGL0YLRjFwiLCBhY3Rpb246IFwiY2xvc2VcIiB9LFxyXG4gIC8vICAgICB7IGNsYXNzOiBcImJ0biBidG4tb2tcIiwgdGV4dDogXCLQntCaXCIsIGFjdGlvbjogXCJva1wiIH0sXHJcbiAgLy8gICBdLFxyXG59KTtcclxuY29uc3QgbW9kYWxTdWNjZXNzID0gbmV3IEl0Y01vZGFsKHtcclxuICBjb250ZW50OlxyXG4gICAgJzxkaXYgY2xhc3M9XCJjYWxsYmFjayBjYWxsYmFja19fbW9kYWxcIj48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2Jsb2NrIGNhbGxiYWNrX19ibG9ja18yXCI+PGgzIGNsYXNzPVwiY2FsbGJhY2tfX3N1YnRpdGxlXCI+0KHQv9Cw0YHQuNCx0L4hPC9oMz48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCI+0JzRiyDRgdC60L7RgNC+INGBINCS0LDQvNC4INGB0LLRj9C20LXQvNGB0Y8hPC9kaXY+PC9kaXY+PC9kaXY+JyxcclxufSk7XHJcblxyXG5jb25zdCBidG5TaG93TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zaG93LW1vZGFsXCIpO1xyXG5jb25zdCBidG5PayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuLW9rXCIpO1xyXG5idG5TaG93TW9kYWwuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBtb2RhbC5zaG93KCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5idG5Pay5mb3JFYWNoKChidG4pID0+IHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIG1vZGFsLmhpZGUoKTtcclxuICAgIG1vZGFsU3VjY2Vzcy5zaG93KCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJjb25zdCBzd2lwZXJDYXNlcyA9IG5ldyBTd2lwZXIoXCIuY2FzZXNfX3N3aXBlclwiLCB7XHJcbiAgc3BlZWQ6IDYwMCxcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5jYXNlcyAuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICBwcmV2RWw6IFwiLmNhc2VzIC5zd2lwZXItYnV0dG9uLXByZXZcIixcclxuICB9LFxyXG59KTtcclxuY29uc3Qgc3dpcGVySGVybyA9IG5ldyBTd2lwZXIoXCIuaGVyb19fc3dpcGVyXCIsIHtcclxuICBzcGVlZDogMTIwMCxcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICBsb29wOiB0cnVlLFxyXG4gIGVmZmVjdDogXCJzbGlkZVwiLFxyXG4gIGF1dG9wbGF5OiB0cnVlLFxyXG59KTtcclxuY29uc3Qgc3dpcGVyQ2xpZW50cyA9IG5ldyBTd2lwZXIoXCIuY2xpZW50c19fc3dpcGVyXCIsIHtcclxuICBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLFxyXG4gIHNwZWVkOiA2MDAsXHJcbiAgbG9vcDogdHJ1ZSxcclxuICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gIGVmZmVjdDogXCJzbGlkZVwiLFxyXG4gIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgYXV0b3BsYXk6IHRydWUsXHJcbiAgYnJlYWtwb2ludHM6IHtcclxuICAgIDMyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgIH0sXHJcbiAgICA1MjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMixcclxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDIsXHJcbiAgICB9LFxyXG4gICAgODIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5jbGllbnRzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIuY2xpZW50cyAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXHJcbiAgfSxcclxufSk7XHJcbmNvbnN0IHN3aXBlclJldmlld3MgPSBuZXcgU3dpcGVyKFwiLnJldmlld3NfX3N3aXBlclwiLCB7XHJcbiAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcclxuICAvLyBzcGVlZDogNjAwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgc2xpZGVzUGVyVmlldzogMyxcclxuICBlZmZlY3Q6IFwic2xpZGVcIixcclxuICBzcGFjZUJldHdlZW46IDEwLFxyXG4gIC8vIGF1dG9wbGF5OiB0cnVlLFxyXG4gIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAzMjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgLy8gc3BhY2VCZXR3ZWVuOiAzMixcclxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXHJcbiAgICB9LFxyXG4gICAgNzgwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIC8vIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICAgIC8vIHNsaWRlc1Blckdyb3VwOiAyLFxyXG4gICAgfSxcclxuICAgIDEwMjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgLy8gc3BhY2VCZXR3ZWVuOiAzMixcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5yZXZpZXdzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIucmV2aWV3cyAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXHJcbiAgfSxcclxufSk7XHJcbiJdfQ==
