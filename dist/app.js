"use strict";function e(){var e=document.querySelectorAll(".burger__link"),n=document.querySelectorAll(".burger__link-last-trigger");window.innerWidth<780?(e.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".burger__item"),i=e.nextSibling;null!==i&&(i.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.classList.add("visible"));i.querySelector(".burger__btn-back").addEventListener("click",(function(){i.style.display="none",n.forEach((function(e){e.classList.remove("flip")})),i.classList.remove("visible")})),t()}(e)}))})),n.forEach((function(e){e.addEventListener("click",(function(){!function(e){var n=document.querySelectorAll(".header__dropdown-menu > li"),i=document.querySelectorAll(".header__dropdown-menu > .header__link"),s=document.querySelectorAll(".header__dropdown-menu"),l=e.nextSibling;null!==l&&(l.style.display="block",n.forEach((function(e){e.classList.add("flip")})),i.forEach((function(e){e.classList.add("flip")})),s.forEach((function(e){e.classList.add("hidden")})),l.classList.add("visible"));l.querySelector(".burger__btn-back").addEventListener("click",(function(){l.style.display="none",l.classList.remove("visible"),n.forEach((function(e){e.classList.remove("flip")})),i.forEach((function(e){e.classList.remove("flip")})),s.forEach((function(e){e.classList.remove("hidden")}))})),t()}(e)}))})),document.body.style.overflow="hidden"):window.innerWidth>780&&(document.body.style.overflow="scroll")}function t(){var e=document.querySelectorAll(".burger__btn-close"),t=document.querySelector(".burger__list");e.forEach((function(e){e.addEventListener("click",(function(){n(),t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"))}))}))}function n(){var e=document.querySelectorAll(".flip"),t=(document.querySelector(".burger__list.visible"),document.querySelectorAll(".header__dropdown-menu.visible")),n=document.querySelectorAll(".burger__list-last.visible");t.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),n.forEach((function(e){e.classList.remove("visible"),e.style.display="none"})),e.forEach((function(e){e.classList.remove("flip")}))}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".burger__btn");window.addEventListener("resize",(function(){e(),document.body.style.overflow="scroll"})),document.addEventListener("click",(function(e){var t=document.querySelector(".burger__list");t.contains(e.target)||e.target.classList.contains("burger__btn")||(n(),t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll")})),t.addEventListener("click",(function(){var t;(t=document.querySelector(".burger__list")).classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("visible"),e()):t.classList.contains("visible")&&(t.classList.remove("visible"),t.classList.add("hidden"),document.body.style.overflow="scroll",n())}))}));var i=document.querySelectorAll(".cases__btn");document.querySelector(".cases__content").classList.add("is-open"),i.forEach((function(e,t){e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTrigger+'"]'),n=this.parentNode.parentNode;n.querySelector(".is-open").classList.remove("is-open"),n.querySelector(".is-active").classList.remove("is-active"),t.classList.add("is-open"),this.classList.add("is-active")}))})),new Accordion(".accordion");var s=document.querySelector(".footer__phone-hover"),l=document.querySelector(".footer__mail-hover");s.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("none")})),l.addEventListener("click",(function(e){e.preventDefault(),l.classList.add("none")}));var o,a,c,r,d,u,b,v,f,p=document.querySelector(".header__phone-hover"),m=document.querySelector(".header__mail-hover");for(p.addEventListener("click",(function(e){e.preventDefault(),p.classList.add("none")})),m.addEventListener("click",(function(e){e.preventDefault(),m.classList.add("none")})),r=(o=document.getElementsByClassName("custom-select")).length,a=0;a<r;a++){d=(u=o[a].getElementsByTagName("select")[0]).length,(b=document.createElement("DIV")).setAttribute("class","select-selected"),b.innerHTML=u.options[u.selectedIndex].innerHTML;var h=u.querySelectorAll("option");for(o[a].appendChild(b),(v=document.createElement("DIV")).setAttribute("class","select-items select-hide"),c=1;c<d;c++)(f=document.createElement("DIV")).classList.add("select-div"),f.dataset.tabTriggerMobile=h[c].value,f.innerHTML=u.options[c].innerHTML,f.addEventListener("click",(function(e){var t,n,i,s,l,o,a;for(e.preventDefault(),o=(s=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,l=this.parentNode.previousSibling,n=0;n<o;n++)if(s.options[n].innerHTML==this.innerHTML){for(s.selectedIndex=n,l.innerHTML=this.innerHTML,a=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,i=0;i<a;i++)t[i].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()})),v.appendChild(f);o[a].appendChild(v),b.addEventListener("click",(function(e){e.stopPropagation(),y(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function y(e){var t,n,i,s,l,o=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=t.length,l=n.length,i=0;i<l;i++)e==n[i]?o.push(i):n[i].classList.remove("select-arrow-active");for(i=0;i<s;i++)o.indexOf(i)&&t[i].classList.add("select-hide")}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,L(i.key),i)}}function L(e){var t=k(e,"string");return"symbol"===_(t)?t:String(t)}function k(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,n){E(e,t),t.set(e,n)}function E(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function q(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,x(e,t,"get"))}function T(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,x(e,t,"set"),n),n}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}document.addEventListener("click",y),document.querySelectorAll(".select-div[data-tab-trigger-mobile]").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.parentNode.parentNode.parentNode,n=document.querySelector('.cases__content[data-tab-content="'+this.dataset.tabTriggerMobile+'"]');t.querySelector(".is-open").classList.remove("is-open"),n.classList.add("is-open")}))}));var M=new WeakMap,P=new WeakMap,A=new WeakMap,N=new WeakMap,B=new WeakMap,D=new WeakMap,V=new WeakMap,H=new WeakSet,C=function(){function e(){var t,n,i=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(t=this,n=H),n.add(t),g(this,M,{writable:!0,value:void 0}),g(this,P,{writable:!0,value:'<div class="itc-modal-backdrop"><div class="itc-modal-content"><div class="itc-modal-header"><span class="itc-modal-btn-close" title="Закрыть">×</span></div><div class="itc-modal-body">{{content}}</div>{{footer}}</div></div>'}),g(this,A,{writable:!0,value:'<div class="itc-modal-footer">{{buttons}}</div>'}),g(this,N,{writable:!0,value:'<button type="button" class="{{class}}" data-action={{action}}>{{text}}</button>'}),g(this,B,{writable:!0,value:new Event("show.itc.modal",{bubbles:!0})}),g(this,D,{writable:!0,value:new Event("hide.itc.modal",{bubbles:!0})}),g(this,V,{writable:!0,value:!1}),T(this,M,document.createElement("div")),q(this,M).classList.add("itc-modal");var l=q(this,P).replace("{{title}}",s.title||"Новое окно");l=l.replace("{{content}}",s.content||"");var o=(s.footerButtons||[]).map((function(e){var t=q(i,N).replace("{{class}}",e.class);return(t=t.replace("{{action}}",e.action)).replace("{{text}}",e.text)})),a=o.length?q(this,A).replace("{{buttons}}",o.join("")):"";l=l.replace("{{footer}}",a),q(this,M).innerHTML=l,document.body.append(q(this,M)),q(this,M).addEventListener("click",S(this,H,W).bind(this))}var t,n,i;return t=e,(n=[{key:"show",value:function(){q(this,V)||(q(this,M).classList.add("itc-modal-show"),q(this,M).dispatchEvent(q(this,B)))}},{key:"hide",value:function(){q(this,M).classList.remove("itc-modal-show"),q(this,M).dispatchEvent(q(this,D)),document.body.style.position="",document.body.style.top=""}},{key:"dispose",value:function(){q(this,M).remove(q(this,M)),q(this,M).removeEventListener("click",S(this,H,W)),T(this,V,!0)}},{key:"setBody",value:function(e){q(this,M).querySelector(".itc-modal-body").innerHTML=e}},{key:"setTitle",value:function(e){q(this,M).querySelector(".itc-modal-title").innerHTML=e}}])&&w(t.prototype,n),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function W(e){(e.target.closest(".itc-modal-btn-close")||e.target.classList.contains("itc-modal-backdrop"))&&this.hide()}var j,I=new C({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Будем рады помочь</h3><form action="" class="callback__form"><label class="callback__label" for="name">Ваше имя</label><input class="callback__input" type="text" name="name" id="name"><label class="callback__label" for="phone">Телефон</label><input class="callback__input" type="tel" name="phone" id="phone"><label class="callback__label" for="message">Комментарий</label><textarea class="callback__input callback__input_text" name="message" id="message" rows="3"></textarea><label class="callback__label callback__label_check" for="agree"><input class="callback__checkbox" type="checkbox" name="agree" id="agree"><span class="callback__span"></span>Нажимая кнопку отправить заявку, даю согласие на обработку персональных данных*</label><button class="callback__btn btn btn-ok">Отправить заявку</button></form></div></div>'}),O=new C({content:'<div class="callback callback__modal"><div class="callback__block callback__block_2"><h3 class="callback__subtitle">Спасибо!</h3><div class="callback__label">Мы скоро с Вами свяжемся!</div></div></div>'}),z=document.querySelectorAll(".btn-show-modal"),G=document.querySelectorAll(".btn-ok");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function F(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=k(e,"string");return"symbol"===_(t)?t:String(t)}function k(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}z.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),I.show()}))})),G.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),I.hide(),O.show()}))}));new Swiper(".cases__swiper",{loop:!0,slidesPerView:1,navigation:{nextEl:".cases .swiper-button-next",prevEl:".cases .swiper-button-prev"}}),new Swiper(".hero__swiper",(F(j={speed:3500,loop:!0,slidesPerView:1,spaceBetween:30},"loop",!0),F(j,"effect","fade"),F(j,"fadeEffect",{crossFade:!0}),F(j,"autoplay",!0),j)),new Swiper(".clients__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:20,breakpoints:{320:{slidesPerView:1,spaceBetween:0,slidesPerGroup:1},520:{slidesPerView:2,spaceBetween:32,slidesPerGroup:2},820:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:".clients .swiper-button-next",prevEl:".clients .swiper-button-prev"}}),new Swiper(".reviews__swiper",{direction:"horizontal",loop:!0,slidesPerView:3,effect:"slide",spaceBetween:10,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},780:{slidesPerView:2},1020:{slidesPerView:3}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1cmdlci5qcyIsIm1haW4uanMiLCJtb2RhbC5qcyIsInN3aXBlci5qcyJdLCJuYW1lcyI6WyJpbm5lcldpbmRvdyIsImJ1cmdlckl0ZW1MaW5rIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnVyZ2VyTGFzdFRyaWdnZXIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZm9yRWFjaCIsImxpbmsiLCJhZGRFdmVudExpc3RlbmVyIiwiaXRlbXMiLCJsaXN0IiwibmV4dFNpYmxpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsImNsb3NlQWxsU3ViTWVudSIsIm9wZW5TdWJNZW51IiwibGlua3MiLCJkcm9wTWVudSIsImxhc3RMaXN0Iiwib3Blbkxhc3RNZW51IiwiYm9keSIsIm92ZXJmbG93IiwiYnRuQ2xvc2UiLCJidXJnZXJMaXN0IiwiYnRuIiwicmVtb3ZlVmlzaWJsZSIsImNvbnRhaW5zIiwiZmxpcEVsZW1lbnRzIiwiZHJvcGRvd25MaXN0IiwiZHJvcGRvd24iLCJlIiwiYnVyZ2VyQnRuIiwiZXZlbnQiLCJ0YXJnZXQiLCJ0YWJUcmlnZ2VyQnRucyIsInRhYlRyaWdnZXJCdG4iLCJpbmRleCIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhYkRhdGEiLCJ0aGlzIiwiZGF0YXNldCIsInRhYlRyaWdnZXIiLCJjdXJyZW50U2xpZGUiLCJwYXJlbnROb2RlIiwiQWNjb3JkaW9uIiwiY29udGFjdFBob25lIiwiY29udGFjdE1haWwiLCJ4IiwiaSIsImoiLCJsIiwibGwiLCJzZWxFbG1udCIsImEiLCJiIiwiYyIsImNvbnRhY3RIZWFkZXJQaG9uZSIsImNvbnRhY3RIZWFkZXJNYWlsIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4Iiwib3B0IiwiYXBwZW5kQ2hpbGQiLCJ0YWJUcmlnZ2VyTW9iaWxlIiwidmFsdWUiLCJ5IiwiayIsInMiLCJoIiwic2wiLCJ5bCIsInByZXZpb3VzU2libGluZyIsInJlbW92ZUF0dHJpYnV0ZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VBbGxTZWxlY3QiLCJ0b2dnbGUiLCJlbG1udCIsInhsIiwiYXJyTm8iLCJwdXNoIiwiaW5kZXhPZiIsInRhYiIsImN1cnJlbnRTTGlkZU1vYmlsZSIsIkl0Y01vZGFsIiwiX3RoaXMiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfaGFuZGxlckNsb3NlTW9kYWwiLCJfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyIsIl9lbGVtIiwid3JpdGFibGUiLCJfdGVtcGxhdGUiLCJfdGVtcGxhdGVGb290ZXIiLCJfdGVtcGxhdGVCdG4iLCJfZXZlbnRTaG93TW9kYWwiLCJFdmVudCIsImJ1YmJsZXMiLCJfZXZlbnRIaWRlTW9kYWwiLCJfZGlzcG9zZWQiLCJfY2xhc3NQcml2YXRlRmllbGRTZXQiLCJfY2xhc3NQcml2YXRlRmllbGRHZXQiLCJodG1sIiwicmVwbGFjZSIsInRpdGxlIiwiY29udGVudCIsImJ1dHRvbnMiLCJmb290ZXJCdXR0b25zIiwibWFwIiwiYWN0aW9uIiwidGV4dCIsImZvb3RlciIsImpvaW4iLCJhcHBlbmQiLCJfY2xhc3NQcml2YXRlTWV0aG9kR2V0IiwiX2hhbmRsZXJDbG9zZU1vZGFsMiIsImJpbmQiLCJrZXkiLCJkaXNwYXRjaEV2ZW50IiwicG9zaXRpb24iLCJ0b3AiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2VzdCIsImhpZGUiLCJtb2RhbCIsIm1vZGFsU3VjY2VzcyIsImJ0blNob3dNb2RhbCIsImJ0bk9rIiwic2hvdyIsIlN3aXBlciIsImxvb3AiLCJzbGlkZXNQZXJWaWV3IiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9Td2lwZXIiLCJzcGVlZCIsInNwYWNlQmV0d2VlbiIsImNyb3NzRmFkZSIsImRpcmVjdGlvbiIsImVmZmVjdCIsImJyZWFrcG9pbnRzIiwic2xpZGVzUGVyR3JvdXAiXSwibWFwcGluZ3MiOiJhQXdDQSxTQUFTQSxJQUNQLElBQU1DLEVBQWlCQyxTQUFTQyxpQkFBaUIsaUJBQzNDQyxFQUFvQkYsU0FBU0MsaUJBQ2pDLDhCQUdFRSxPQUFPQyxXQUFhLEtBQ3RCTCxFQUFlTSxTQUFRLFNBQUNDLEdBQ3RCQSxFQUFLQyxpQkFBaUIsU0FBUyxZQWVyQyxTQUFxQkQsR0FDbkIsSUFBTUUsRUFBUVIsU0FBU0MsaUJBQWlCLGlCQUVsQ1EsRUFBT0gsRUFBS0ksWUFDTCxPQUFURCxJQUNGQSxFQUFLRSxNQUFNQyxRQUFVLFFBQ3JCSixFQUFNSCxTQUFRLFNBQUNRLEdBQ2JBLEVBQUtDLFVBQVVDLElBQUksT0FDckIsSUFDQU4sRUFBS0ssVUFBVUMsSUFBSSxZQUVMTixFQUFLTyxjQUFjLHFCQUMzQlQsaUJBQWlCLFNBQVMsV0FDaENFLEVBQUtFLE1BQU1DLFFBQVUsT0FDckJKLEVBQU1ILFNBQVEsU0FBQ1EsR0FDYkEsRUFBS0MsVUFBVUcsT0FBTyxPQUN4QixJQUNBUixFQUFLSyxVQUFVRyxPQUFPLFVBQ3hCLElBQ0FDLEdBQ0YsQ0FsQ1FDLENBQVliLEVBQ2QsR0FDRixJQUNBSixFQUFrQkcsU0FBUSxTQUFDQyxHQUN6QkEsRUFBS0MsaUJBQWlCLFNBQVMsWUErQnJDLFNBQXNCRCxHQUNwQixJQUFNRSxFQUFRUixTQUFTQyxpQkFBaUIsK0JBQ2xDbUIsRUFBUXBCLFNBQVNDLGlCQUNyQiwwQ0FFSW9CLEVBQVdyQixTQUFTQyxpQkFBaUIsMEJBRXJDcUIsRUFBV2hCLEVBQUtJLFlBRUwsT0FBYlksSUFDRkEsRUFBU1gsTUFBTUMsUUFBVSxRQUN6QkosRUFBTUgsU0FBUSxTQUFDUSxHQUNiQSxFQUFLQyxVQUFVQyxJQUFJLE9BQ3JCLElBQ0FLLEVBQU1mLFNBQVEsU0FBQ0MsR0FD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QW9CLENBQ25EVyxVQUFXLGFBQ1hWLE1BQU0sRUFDTkMsY0FBZSxFQUNmVSxPQUFRLFFBQ1JILGFBQWMsR0FDZEksWUFBYSxDQUNYLElBQUssQ0FDSFgsY0FBZSxFQUNmWSxlQUFnQixFQUNoQkwsYUFBYyxHQUVoQixJQUFLLENBQ0hQLGNBQWUsR0FFakIsS0FBTSxDQUNKQSxjQUFlLElBSW5CQyxXQUFZLENBQ1ZDLE9BQVEsK0JBQ1JDLE9BQVEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG5cIik7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgaW5uZXJXaW5kb3coKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG4gIH0pO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnN0IGJ1cmdlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlcl9fbGlzdFwiKTtcclxuICAgIGlmIChcclxuICAgICAgIWJ1cmdlckxpc3QuY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJlxyXG4gICAgICAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ1cmdlcl9fYnRuXCIpXHJcbiAgICApIHtcclxuICAgICAgcmVtb3ZlVmlzaWJsZSgpO1xyXG4gICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xyXG5cclxuICAgICAgLy8gICBmbGlwQnVyZ2VyTWVudSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGZsaXBCdXJnZXJNZW51KCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gZmxpcEJ1cmdlck1lbnUoKSB7XHJcbiAgY29uc3QgYnVyZ2VyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19saXN0XCIpO1xyXG4gIGlmIChidXJnZXJMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4gICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgYnVyZ2VyTGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICAgIGlubmVyV2luZG93KCk7XHJcbiAgfSBlbHNlIGlmIChidXJnZXJMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikpIHtcclxuICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICAgIHJlbW92ZVZpc2libGUoKTtcclxuICAgIC8vIGlubmVyV2luZG93KCk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIGlubmVyV2luZG93KCkge1xyXG4gIGNvbnN0IGJ1cmdlckl0ZW1MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2xpbmtcIik7XHJcbiAgY29uc3QgYnVyZ2VyTGFzdFRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuYnVyZ2VyX19saW5rLWxhc3QtdHJpZ2dlclwiXHJcbiAgKTtcclxuXHJcbiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzgwKSB7XHJcbiAgICBidXJnZXJJdGVtTGluay5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBvcGVuU3ViTWVudShsaW5rKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGJ1cmdlckxhc3RUcmlnZ2VyLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG9wZW5MYXN0TWVudShsaW5rKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNzgwKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gb3BlblN1Yk1lbnUobGluaykge1xyXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2l0ZW1cIik7XHJcblxyXG4gIGNvbnN0IGxpc3QgPSBsaW5rLm5leHRTaWJsaW5nO1xyXG4gIGlmIChsaXN0ICE9PSBudWxsKSB7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGxpc3QuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgfVxyXG4gIGNvbnN0IGJ0bkJhY2sgPSBsaXN0LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG4tYmFja1wiKTtcclxuICBidG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICB9KTtcclxuICBjbG9zZUFsbFN1Yk1lbnUoKTtcclxufVxyXG5mdW5jdGlvbiBvcGVuTGFzdE1lbnUobGluaykge1xyXG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUgPiBsaVwiKTtcclxuICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnUgPiAuaGVhZGVyX19saW5rXCJcclxuICApO1xyXG4gIGNvbnN0IGRyb3BNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX2Ryb3Bkb3duLW1lbnVcIik7XHJcblxyXG4gIGNvbnN0IGxhc3RMaXN0ID0gbGluay5uZXh0U2libGluZztcclxuXHJcbiAgaWYgKGxhc3RMaXN0ICE9PSBudWxsKSB7XHJcbiAgICBsYXN0TGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZChcImZsaXBcIik7XHJcbiAgICB9KTtcclxuICAgIGRyb3BNZW51LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsYXN0TGlzdC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICB9XHJcbiAgY29uc3QgYnRuQmFjayA9IGxhc3RMaXN0LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19idG4tYmFja1wiKTtcclxuICBidG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBsYXN0TGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBsYXN0TGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZmxpcFwiKTtcclxuICAgIH0pO1xyXG4gICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4gICAgfSk7XHJcbiAgICBkcm9wTWVudS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGNsb3NlQWxsU3ViTWVudSgpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQWxsU3ViTWVudSgpIHtcclxuICBjb25zdCBidG5DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19idG4tY2xvc2VcIik7XHJcbiAgY29uc3QgYnVyZ2VyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19saXN0XCIpO1xyXG5cclxuICBidG5DbG9zZS5mb3JFYWNoKChidG4pID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICByZW1vdmVWaXNpYmxlKCk7XHJcbiAgICAgIGlmIChidXJnZXJMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikpIHtcclxuICAgICAgICBidXJnZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG4gICAgICAgIGJ1cmdlckxpc3QuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlVmlzaWJsZSgpIHtcclxuICBjb25zdCBmbGlwRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZsaXBcIik7XHJcbiAgY29uc3QgYnVyZ2VyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyX19saXN0LnZpc2libGVcIik7XHJcbiAgY29uc3QgZHJvcGRvd25MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgIFwiLmhlYWRlcl9fZHJvcGRvd24tbWVudS52aXNpYmxlXCJcclxuICApO1xyXG4gIGNvbnN0IGxhc3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2xpc3QtbGFzdC52aXNpYmxlXCIpO1xyXG4gIGRyb3Bkb3duTGlzdC5mb3JFYWNoKChkcm9wZG93bikgPT4ge1xyXG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfSk7XHJcbiAgbGFzdExpc3QuZm9yRWFjaCgobGlzdCkgPT4ge1xyXG4gICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgIGxpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG4gIGZsaXBFbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICBlLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwXCIpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8vIFRhYnNcclxuXHJcbmNvbnN0IHRhYlRyaWdnZXJCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXNlc19fYnRuXCIpO1xyXG5jb25zdCBjYXNlc1RhYk9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VzX19jb250ZW50XCIpO1xyXG5jYXNlc1RhYk9wZW4uY2xhc3NMaXN0LmFkZChcImlzLW9wZW5cIik7XHJcbnRhYlRyaWdnZXJCdG5zLmZvckVhY2goZnVuY3Rpb24gKHRhYlRyaWdnZXJCdG4sIGluZGV4KSB7XHJcbiAgdGFiVHJpZ2dlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUYWJEYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgJy5jYXNlc19fY29udGVudFtkYXRhLXRhYi1jb250ZW50PVwiJyArIHRoaXMuZGF0YXNldC50YWJUcmlnZ2VyICsgJ1wiXSdcclxuICAgICk7XHJcbiAgICBjb25zdCBjdXJyZW50U2xpZGUgPSB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgIGNvbnN0IGlzT3BlbiA9IGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIik7XHJcbiAgICBpc09wZW4uY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yKFwiLmlzLWFjdGl2ZVwiKTtcclxuICAgIGlzQWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbiAgICBjdXJyZW50VGFiRGF0YS5jbGFzc0xpc3QuYWRkKFwiaXMtb3BlblwiKTtcclxuICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vLyBhY2NvcmRpb25cclxuXHJcbm5ldyBBY2NvcmRpb24oXCIuYWNjb3JkaW9uXCIpO1xyXG5cclxuLy8gc2hvdyBjb250YWN0c1xyXG5jb25zdCBjb250YWN0UGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fcGhvbmUtaG92ZXJcIik7XHJcbmNvbnN0IGNvbnRhY3RNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX21haWwtaG92ZXJcIik7XHJcbmNvbnRhY3RQaG9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29udGFjdFBob25lLmNsYXNzTGlzdC5hZGQoXCJub25lXCIpO1xyXG59KTtcclxuY29udGFjdE1haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnRhY3RNYWlsLmNsYXNzTGlzdC5hZGQoXCJub25lXCIpO1xyXG59KTtcclxuY29uc3QgY29udGFjdEhlYWRlclBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3Bob25lLWhvdmVyXCIpO1xyXG5jb25zdCBjb250YWN0SGVhZGVyTWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tYWlsLWhvdmVyXCIpO1xyXG5jb250YWN0SGVhZGVyUGhvbmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnRhY3RIZWFkZXJQaG9uZS5jbGFzc0xpc3QuYWRkKFwibm9uZVwiKTtcclxufSk7XHJcbmNvbnRhY3RIZWFkZXJNYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb250YWN0SGVhZGVyTWFpbC5jbGFzc0xpc3QuYWRkKFwibm9uZVwiKTtcclxufSk7XHJcblxyXG4vLyBjdXN0b20gc2VsZWN0XHJcbnZhciB4LCBpLCBqLCBsLCBsbCwgc2VsRWxtbnQsIGEsIGIsIGM7XHJcbnggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3VzdG9tLXNlbGVjdFwiKTtcclxubCA9IHgubGVuZ3RoO1xyXG5mb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgc2VsRWxtbnQgPSB4W2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2VsZWN0XCIpWzBdO1xyXG4gIGxsID0gc2VsRWxtbnQubGVuZ3RoO1xyXG4gIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gIGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3Qtc2VsZWN0ZWRcIik7XHJcbiAgYS5pbm5lckhUTUwgPSBzZWxFbG1udC5vcHRpb25zW3NlbEVsbW50LnNlbGVjdGVkSW5kZXhdLmlubmVySFRNTDtcclxuICBjb25zdCBvcHQgPSBzZWxFbG1udC5xdWVyeVNlbGVjdG9yQWxsKFwib3B0aW9uXCIpO1xyXG4gIHhbaV0uYXBwZW5kQ2hpbGQoYSk7XHJcbiAgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdC1pdGVtcyBzZWxlY3QtaGlkZVwiKTtcclxuICBmb3IgKGogPSAxOyBqIDwgbGw7IGorKykge1xyXG4gICAgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICBjLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3QtZGl2XCIpO1xyXG4gICAgYy5kYXRhc2V0LnRhYlRyaWdnZXJNb2JpbGUgPSBvcHRbal0udmFsdWU7XHJcbiAgICBjLmlubmVySFRNTCA9IHNlbEVsbW50Lm9wdGlvbnNbal0uaW5uZXJIVE1MO1xyXG4gICAgYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgeSwgaSwgaywgcywgaCwgc2wsIHlsO1xyXG4gICAgICBzID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzZWxlY3RcIilbMF07XHJcbiAgICAgIHNsID0gcy5sZW5ndGg7XHJcbiAgICAgIGggPSB0aGlzLnBhcmVudE5vZGUucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc2w7IGkrKykge1xyXG4gICAgICAgIGlmIChzLm9wdGlvbnNbaV0uaW5uZXJIVE1MID09IHRoaXMuaW5uZXJIVE1MKSB7XHJcbiAgICAgICAgICBzLnNlbGVjdGVkSW5kZXggPSBpO1xyXG4gICAgICAgICAgaC5pbm5lckhUTUwgPSB0aGlzLmlubmVySFRNTDtcclxuICAgICAgICAgIHkgPSB0aGlzLnBhcmVudE5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNhbWUtYXMtc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgICB5bCA9IHkubGVuZ3RoO1xyXG4gICAgICAgICAgZm9yIChrID0gMDsgayA8IHlsOyBrKyspIHtcclxuICAgICAgICAgICAgeVtrXS5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzYW1lLWFzLXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGguY2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgYi5hcHBlbmRDaGlsZChjKTtcclxuICB9XHJcbiAgeFtpXS5hcHBlbmRDaGlsZChiKTtcclxuICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNsb3NlQWxsU2VsZWN0KHRoaXMpO1xyXG4gICAgdGhpcy5uZXh0U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKFwic2VsZWN0LWhpZGVcIik7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJzZWxlY3QtYXJyb3ctYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlQWxsU2VsZWN0KGVsbW50KSB7XHJcbiAgdmFyIHgsXHJcbiAgICB5LFxyXG4gICAgaSxcclxuICAgIHhsLFxyXG4gICAgeWwsXHJcbiAgICBhcnJObyA9IFtdO1xyXG4gIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LWl0ZW1zXCIpO1xyXG4gIHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2VsZWN0LXNlbGVjdGVkXCIpO1xyXG4gIHhsID0geC5sZW5ndGg7XHJcbiAgeWwgPSB5Lmxlbmd0aDtcclxuICBmb3IgKGkgPSAwOyBpIDwgeWw7IGkrKykge1xyXG4gICAgaWYgKGVsbW50ID09IHlbaV0pIHtcclxuICAgICAgYXJyTm8ucHVzaChpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHlbaV0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdC1hcnJvdy1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZvciAoaSA9IDA7IGkgPCB4bDsgaSsrKSB7XHJcbiAgICBpZiAoYXJyTm8uaW5kZXhPZihpKSkge1xyXG4gICAgICB4W2ldLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3QtaGlkZVwiKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlQWxsU2VsZWN0KTtcclxuXHJcbmNvbnN0IHRhYnNNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gIFwiLnNlbGVjdC1kaXZbZGF0YS10YWItdHJpZ2dlci1tb2JpbGVdXCJcclxuKTtcclxudGFic01vYmlsZS5mb3JFYWNoKCh0YWIpID0+IHtcclxuICB0YWIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBjdXJyZW50U0xpZGVNb2JpbGUgPSB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgY29uc3QgY3VycmVudFRhYkRhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLmNhc2VzX19jb250ZW50W2RhdGEtdGFiLWNvbnRlbnQ9XCInICtcclxuICAgICAgICB0aGlzLmRhdGFzZXQudGFiVHJpZ2dlck1vYmlsZSArXHJcbiAgICAgICAgJ1wiXSdcclxuICAgICk7XHJcbiAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGN1cnJlbnRTTGlkZU1vYmlsZS5xdWVyeVNlbGVjdG9yKFwiLmlzLW9wZW5cIik7XHJcbiAgICBjdXJyZW50Q29udGVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKTtcclxuICAgIGN1cnJlbnRUYWJEYXRhLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiY2xhc3MgSXRjTW9kYWwge1xyXG4gICNlbGVtO1xyXG4gICN0ZW1wbGF0ZSA9XHJcbiAgICAnPGRpdiBjbGFzcz1cIml0Yy1tb2RhbC1iYWNrZHJvcFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtY29udGVudFwiPjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtaGVhZGVyXCI+PHNwYW4gY2xhc3M9XCJpdGMtbW9kYWwtYnRuLWNsb3NlXCIgdGl0bGU9XCLQl9Cw0LrRgNGL0YLRjFwiPsOXPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtYm9keVwiPnt7Y29udGVudH19PC9kaXY+e3tmb290ZXJ9fTwvZGl2PjwvZGl2Pic7XHJcbiAgI3RlbXBsYXRlRm9vdGVyID0gJzxkaXYgY2xhc3M9XCJpdGMtbW9kYWwtZm9vdGVyXCI+e3tidXR0b25zfX08L2Rpdj4nO1xyXG4gICN0ZW1wbGF0ZUJ0biA9XHJcbiAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ7e2NsYXNzfX1cIiBkYXRhLWFjdGlvbj17e2FjdGlvbn19Pnt7dGV4dH19PC9idXR0b24+JztcclxuICAjZXZlbnRTaG93TW9kYWwgPSBuZXcgRXZlbnQoXCJzaG93Lml0Yy5tb2RhbFwiLCB7IGJ1YmJsZXM6IHRydWUgfSk7XHJcbiAgI2V2ZW50SGlkZU1vZGFsID0gbmV3IEV2ZW50KFwiaGlkZS5pdGMubW9kYWxcIiwgeyBidWJibGVzOiB0cnVlIH0pO1xyXG4gICNkaXNwb3NlZCA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0gW10pIHtcclxuICAgIHRoaXMuI2VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5jbGFzc0xpc3QuYWRkKFwiaXRjLW1vZGFsXCIpO1xyXG4gICAgbGV0IGh0bWwgPSB0aGlzLiN0ZW1wbGF0ZS5yZXBsYWNlKFxyXG4gICAgICBcInt7dGl0bGV9fVwiLFxyXG4gICAgICBvcHRpb25zLnRpdGxlIHx8IFwi0J3QvtCy0L7QtSDQvtC60L3QvlwiXHJcbiAgICApO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Y29udGVudH19XCIsIG9wdGlvbnMuY29udGVudCB8fCBcIlwiKTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSAob3B0aW9ucy5mb290ZXJCdXR0b25zIHx8IFtdKS5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgbGV0IGJ0biA9IHRoaXMuI3RlbXBsYXRlQnRuLnJlcGxhY2UoXCJ7e2NsYXNzfX1cIiwgaXRlbS5jbGFzcyk7XHJcbiAgICAgIGJ0biA9IGJ0bi5yZXBsYWNlKFwie3thY3Rpb259fVwiLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgIHJldHVybiBidG4ucmVwbGFjZShcInt7dGV4dH19XCIsIGl0ZW0udGV4dCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGZvb3RlciA9IGJ1dHRvbnMubGVuZ3RoXHJcbiAgICAgID8gdGhpcy4jdGVtcGxhdGVGb290ZXIucmVwbGFjZShcInt7YnV0dG9uc319XCIsIGJ1dHRvbnMuam9pbihcIlwiKSlcclxuICAgICAgOiBcIlwiO1xyXG4gICAgaHRtbCA9IGh0bWwucmVwbGFjZShcInt7Zm9vdGVyfX1cIiwgZm9vdGVyKTtcclxuICAgIHRoaXMuI2VsZW0uaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuI2VsZW0pO1xyXG4gICAgdGhpcy4jZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jaGFuZGxlckNsb3NlTW9kYWwuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAjaGFuZGxlckNsb3NlTW9kYWwoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnRhcmdldC5jbG9zZXN0KFwiLml0Yy1tb2RhbC1idG4tY2xvc2VcIikgfHxcclxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRjLW1vZGFsLWJhY2tkcm9wXCIpXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93KCkge1xyXG4gICAgaWYgKHRoaXMuI2Rpc3Bvc2VkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuI2VsZW0uY2xhc3NMaXN0LmFkZChcIml0Yy1tb2RhbC1zaG93XCIpO1xyXG4gICAgdGhpcy4jZWxlbS5kaXNwYXRjaEV2ZW50KHRoaXMuI2V2ZW50U2hvd01vZGFsKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLiNlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGMtbW9kYWwtc2hvd1wiKTtcclxuICAgIHRoaXMuI2VsZW0uZGlzcGF0Y2hFdmVudCh0aGlzLiNldmVudEhpZGVNb2RhbCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gXCJcIjtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLiNlbGVtLnJlbW92ZSh0aGlzLiNlbGVtKTtcclxuICAgIHRoaXMuI2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuI2hhbmRsZXJDbG9zZU1vZGFsKTtcclxuICAgIHRoaXMuI2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHNldEJvZHkoaHRtbCkge1xyXG4gICAgdGhpcy4jZWxlbS5xdWVyeVNlbGVjdG9yKFwiLml0Yy1tb2RhbC1ib2R5XCIpLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgfVxyXG5cclxuICBzZXRUaXRsZSh0ZXh0KSB7XHJcbiAgICB0aGlzLiNlbGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRjLW1vZGFsLXRpdGxlXCIpLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtb2RhbCA9IG5ldyBJdGNNb2RhbCh7XHJcbiAgY29udGVudDpcclxuICAgICc8ZGl2IGNsYXNzPVwiY2FsbGJhY2sgY2FsbGJhY2tfX21vZGFsXCI+PGRpdiBjbGFzcz1cImNhbGxiYWNrX19ibG9jayBjYWxsYmFja19fYmxvY2tfMlwiPjxoMyBjbGFzcz1cImNhbGxiYWNrX19zdWJ0aXRsZVwiPtCR0YPQtNC10Lwg0YDQsNC00Ysg0L/QvtC80L7Rh9GMPC9oMz48Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImNhbGxiYWNrX19mb3JtXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibmFtZVwiPtCS0LDRiNC1INC40LzRjzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiY2FsbGJhY2tfX2lucHV0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIGlkPVwibmFtZVwiPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbFwiIGZvcj1cInBob25lXCI+0KLQtdC70LXRhNC+0L08L2xhYmVsPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19pbnB1dFwiIHR5cGU9XCJ0ZWxcIiBuYW1lPVwicGhvbmVcIiBpZD1cInBob25lXCI+PGxhYmVsIGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCIgZm9yPVwibWVzc2FnZVwiPtCa0L7QvNC80LXQvdGC0LDRgNC40Lk8L2xhYmVsPjx0ZXh0YXJlYSBjbGFzcz1cImNhbGxiYWNrX19pbnB1dCBjYWxsYmFja19faW5wdXRfdGV4dFwiIG5hbWU9XCJtZXNzYWdlXCIgaWQ9XCJtZXNzYWdlXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPjxsYWJlbCBjbGFzcz1cImNhbGxiYWNrX19sYWJlbCBjYWxsYmFja19fbGFiZWxfY2hlY2tcIiBmb3I9XCJhZ3JlZVwiPjxpbnB1dCBjbGFzcz1cImNhbGxiYWNrX19jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJhZ3JlZVwiIGlkPVwiYWdyZWVcIj48c3BhbiBjbGFzcz1cImNhbGxiYWNrX19zcGFuXCI+PC9zcGFuPtCd0LDQttC40LzQsNGPINC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDLCDQtNCw0Y7CoNGB0L7Qs9C70LDRgdC40LUg0L3QsMKg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUqPC9sYWJlbD48YnV0dG9uIGNsYXNzPVwiY2FsbGJhY2tfX2J0biBidG4gYnRuLW9rXCI+0J7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgzwvYnV0dG9uPjwvZm9ybT48L2Rpdj48L2Rpdj4nLFxyXG59KTtcclxuY29uc3QgbW9kYWxTdWNjZXNzID0gbmV3IEl0Y01vZGFsKHtcclxuICBjb250ZW50OlxyXG4gICAgJzxkaXYgY2xhc3M9XCJjYWxsYmFjayBjYWxsYmFja19fbW9kYWxcIj48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2Jsb2NrIGNhbGxiYWNrX19ibG9ja18yXCI+PGgzIGNsYXNzPVwiY2FsbGJhY2tfX3N1YnRpdGxlXCI+0KHQv9Cw0YHQuNCx0L4hPC9oMz48ZGl2IGNsYXNzPVwiY2FsbGJhY2tfX2xhYmVsXCI+0JzRiyDRgdC60L7RgNC+INGBINCS0LDQvNC4INGB0LLRj9C20LXQvNGB0Y8hPC9kaXY+PC9kaXY+PC9kaXY+JyxcclxufSk7XHJcblxyXG5jb25zdCBidG5TaG93TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zaG93LW1vZGFsXCIpO1xyXG5jb25zdCBidG5PayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuLW9rXCIpO1xyXG5idG5TaG93TW9kYWwuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuc2hvdygpO1xyXG4gIH0pO1xyXG59KTtcclxuYnRuT2suZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwuaGlkZSgpO1xyXG4gICAgbW9kYWxTdWNjZXNzLnNob3coKTtcclxuICB9KTtcclxufSk7XHJcbiIsImNvbnN0IHN3aXBlckNhc2VzID0gbmV3IFN3aXBlcihcIi5jYXNlc19fc3dpcGVyXCIsIHtcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgLy8gc3BhY2VCZXR3ZWVuOiAzMCxcclxuICBuYXZpZ2F0aW9uOiB7XHJcbiAgICBuZXh0RWw6IFwiLmNhc2VzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIuY2FzZXMgLnN3aXBlci1idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJIZXJvID0gbmV3IFN3aXBlcihcIi5oZXJvX19zd2lwZXJcIiwge1xyXG4gIHNwZWVkOiAzNTAwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgc2xpZGVzUGVyVmlldzogMSxcclxuICBzcGFjZUJldHdlZW46IDMwLFxyXG4gIGxvb3A6IHRydWUsXHJcbiAgZWZmZWN0OiBcImZhZGVcIixcclxuICBmYWRlRWZmZWN0OiB7XHJcbiAgICBjcm9zc0ZhZGU6IHRydWUsXHJcbiAgfSxcclxuICBhdXRvcGxheTogdHJ1ZSxcclxufSk7XHJcbmNvbnN0IHN3aXBlckNsaWVudHMgPSBuZXcgU3dpcGVyKFwiLmNsaWVudHNfX3N3aXBlclwiLCB7XHJcbiAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcclxuICBsb29wOiB0cnVlLFxyXG4gIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgZWZmZWN0OiBcInNsaWRlXCIsXHJcbiAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICBicmVha3BvaW50czoge1xyXG4gICAgMzIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXHJcbiAgICB9LFxyXG4gICAgNTIwOiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAyLFxyXG4gICAgfSxcclxuICAgIDgyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIG5hdmlnYXRpb246IHtcclxuICAgIG5leHRFbDogXCIuY2xpZW50cyAuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXHJcbiAgICBwcmV2RWw6IFwiLmNsaWVudHMgLnN3aXBlci1idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBzd2lwZXJSZXZpZXdzID0gbmV3IFN3aXBlcihcIi5yZXZpZXdzX19zd2lwZXJcIiwge1xyXG4gIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXHJcbiAgbG9vcDogdHJ1ZSxcclxuICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gIGVmZmVjdDogXCJzbGlkZVwiLFxyXG4gIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgYnJlYWtwb2ludHM6IHtcclxuICAgIDMyMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgfSxcclxuICAgIDc4MDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgfSxcclxuICAgIDEwMjA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5yZXZpZXdzIC5zd2lwZXItYnV0dG9uLW5leHRcIixcclxuICAgIHByZXZFbDogXCIucmV2aWV3cyAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXHJcbiAgfSxcclxufSk7XHJcbiJdfQ==
